wpJsonpAmeliaBookingPlugin([17],{663:function(e,t,o){var i=o(670)(o(961),o(962),!1,null,null,null);e.exports=i.exports},670:function(e,t){e.exports=function(e,t,o,i,n,a){var s,r=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,r=e.default);var c,d="function"==typeof r?r.options:r;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),o&&(d.functional=!0),n&&(d._scopeId=n),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},d._ssrRegister=c):i&&(c=i),c){var m=d.functional,p=m?d.render:d.beforeCreate;m?(d._injectStyles=c,d.render=function(e,t){return c.call(t),p(e,t)}):d.beforeCreate=p?[].concat(p,c):[c]}return{esModule:s,exports:r,options:d}}},672:function(e,t,o){"use strict";t.a={data:function(){return{colors:["1788FB","4BBEC6","FBC22D","FA3C52","D696B8","689BCA","26CC2B","FD7E35","E38587","774DFB","31CDF3","6AB76C","FD5FA1","A697C5"],usedColors:[]}},methods:{inlineSVG:function(){var e=o(676);e.init({svgSelector:"img.svg",initClass:"js-inlinesvg"})},imageFromText:function(e){var t=this.getNameInitials(e),o=Math.floor(Math.random()*this.colors.length),i=this.colors[o];return this.usedColors.push(this.colors[o]),this.colors.splice(o,1),0===this.colors.length&&(this.colors=this.usedColors,this.usedColors=[]),location.protocol+"//via.placeholder.com/120/"+i+"/fff?text="+t},pictureLoad:function(e,t){if(null!==e){var o=!0===t?e.firstName+" "+e.lastName:e.name;if(void 0!==o)return e.pictureThumbPath=e.pictureThumbPath||this.imageFromText(o),e.pictureThumbPath}},imageLoadError:function(e,t){var o=!0===t?e.firstName+" "+e.lastName:e.name;void 0!==o&&(e.pictureThumbPath=this.imageFromText(o))},getNameInitials:function(e){return e.split(" ").map(function(e){return e.charAt(0)}).join("").toUpperCase().substring(0,3).replace(/[^\w\s]/g,"")}}}},673:function(e,t,o){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a={data:function(){return{}},methods:{replaceExistingObjectProperties:function(e,t){var o=this;Object.keys(e).forEach(function(n){null!==e[n]&&"object"===i(e[n])&&n in t?o.replaceExistingObjectProperties(e[n],t[n]):n in t&&(e[n]=t[n])})},addMissingObjectProperties:function(e,t){var o=this;Object.keys(t).forEach(function(n){var a=!1;n in e||("object"===i(t[n])?(e[n]={},a=!0):(e[n]=null,a=!0)),null===t[n]||"object"!==i(t[n])?a&&(e[n]=t[n]):o.addMissingObjectProperties(e[n],t[n])})},scrollView:function(e){"undefined"!=typeof jQuery&&jQuery(window).width()<=600&&document.getElementById(e).scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},scrollViewInModal:function(e){this.$nextTick(function(){document.querySelectorAll(".am-dialog-scrollable")[0].scrollTop=document.getElementById(e).offsetTop})},getUrlQueryParams:function(e){var t=[],o={};return(e.indexOf("#")?e.substring(0,e.indexOf("#")).split("?")[1]:e.split("?")[1]).split("&").forEach(function(e){t=e.split("="),o[t[0]]=decodeURIComponent(t[1]).replace(/\+/g," ")}),o},getUrlParams:function(e){var t={};if(-1!==e.indexOf("?")){var o=[];e.split("?")[1].split("&").forEach(function(e){o=e.split("="),t[o[0]]=decodeURIComponent(o[1]).replace(/\+/g," ")})}return t},removeURLParameter:function(e,t){var o=e.split("?");if(o.length>=2){for(var i=encodeURIComponent(t)+"=",n=o[1].split(/[&;]/g),a=n.length;a-- >0;)-1!==n[a].lastIndexOf(i,0)&&n.splice(a,1);return e=o[0]+(n.length>0?"?"+n.join("&"):"")}return e},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}}},675:function(e,t,o){"use strict";t.a={data:function(){return{currencies:[{symbol:"$",name:"US Dollar",symbol_native:"$",code:"USD",iso:"us"},{symbol:"€",name:"Euro",symbol_native:"€",code:"EUR",iso:"eu"},{symbol:"£",name:"British Pound Sterling",symbol_native:"£",code:"GBP",iso:"gb"},{symbol:"CA$",name:"Canadian Dollar",symbol_native:"$",code:"CAD",iso:"ca"},{symbol:"CHF",name:"Swiss Franc",symbol_native:"CHF",code:"CHF",iso:"ch"},{symbol:"RUB",name:"Russian Ruble",symbol_native:"руб.",code:"RUB",iso:"ru"},{symbol:"¥",name:"Japanese Yen",symbol_native:"￥",code:"JPY",iso:"jp"},{symbol:"Af",name:"Afghan Afghani",symbol_native:"؋",code:"AFN",iso:"af"},{symbol:"ALL",name:"Albanian Lek",symbol_native:"Lek",code:"ALL",iso:"al"},{symbol:"DA",name:"Algerian Dinar",symbol_native:"د.ج.‏",code:"DZD",iso:"dz"},{symbol:"AR$",name:"Argentine Peso",symbol_native:"$",code:"ARS",iso:"ar"},{symbol:"AMD",name:"Armenian Dram",symbol_native:"դր.",code:"AMD",iso:"am"},{symbol:"AU$",name:"Australian Dollar",symbol_native:"$",code:"AUD",iso:"au"},{symbol:"man.",name:"Azerbaijani Manat",symbol_native:"ман.",code:"AZN",iso:"az"},{symbol:"BD",name:"Bahraini Dinar",symbol_native:"د.ب.‏",code:"BHD",iso:"bh"},{symbol:"Tk",name:"Bangladeshi Taka",symbol_native:"৳",code:"BDT",iso:"bd"},{symbol:"BYR",name:"Belarusian Ruble",symbol_native:"BYR",code:"BYR",iso:"by"},{symbol:"BZ$",name:"Belize Dollar",symbol_native:"$",code:"BZD",iso:"bz"},{symbol:"Bs",name:"Bolivian Boliviano",symbol_native:"Bs",code:"BOB",iso:"bo"},{symbol:"KM",name:"Bosnia-Herzegovina Convertible Mark",symbol_native:"KM",code:"BAM",iso:"ba"},{symbol:"BWP",name:"Botswanan Pula",symbol_native:"P",code:"BWP",iso:"bw"},{symbol:"R$",name:"Brazilian Real",symbol_native:"R$",code:"BRL",iso:"br"},{symbol:"BN$",name:"Brunei Dollar",symbol_native:"$",code:"BND",iso:"bn"},{symbol:"BGN",name:"Bulgarian Lev",symbol_native:"лв.",code:"BGN",iso:"bg"},{symbol:"FBu",name:"Burundian Franc",symbol_native:"FBu",code:"BIF",iso:"bi"},{symbol:"CFA",name:"CFA Franc BCEAO",symbol_native:"CFA",code:"XOF",iso:"auto"},{symbol:"FCFA",name:"CFA Franc BEAC",symbol_native:"FCFA",code:"XAF",iso:"auto"},{symbol:"KHR",name:"Cambodian Riel",symbol_native:"៛",code:"KHR",iso:"kh"},{symbol:"CV$",name:"Cape Verdean Escudo",symbol_native:"CV$",code:"CVE",iso:"cv"},{symbol:"CL$",name:"Chilean Peso",symbol_native:"$",code:"CLP",iso:"cl"},{symbol:"CN¥",name:"Chinese Yuan",symbol_native:"CN¥",code:"CNY",iso:"cn"},{symbol:"COP",name:"Colombian Peso",symbol_native:"$",code:"COP",iso:"co"},{symbol:"CF",name:"Comorian Franc",symbol_native:"FC",code:"KMF",iso:"km"},{symbol:"CDF",name:"Congolese Franc",symbol_native:"FrCD",code:"CDF",iso:"cd"},{symbol:"₡",name:"Costa Rican Colón",symbol_native:"₡",code:"CRC",iso:"cr"},{symbol:"kn",name:"Croatian Kuna",symbol_native:"kn",code:"HRK",iso:"hr"},{symbol:"Kč",name:"Czech Republic Koruna",symbol_native:"Kč",code:"CZK",iso:"cz"},{symbol:"Dkk",name:"Danish Krone",symbol_native:"kr",code:"DKK",iso:"dk"},{symbol:"Fdj",name:"Djiboutian Franc",symbol_native:"Fdj",code:"DJF",iso:"dj"},{symbol:"RD$",name:"Dominican Peso",symbol_native:"RD$",code:"DOP",iso:"do"},{symbol:"EGP",name:"Egyptian Pound",symbol_native:"ج.م.‏",code:"EGP",iso:"eg"},{symbol:"Nfk",name:"Eritrean Nakfa",symbol_native:"Nfk",code:"ERN",iso:"er"},{symbol:"Ekr",name:"Estonian Kroon",symbol_native:"kr",code:"EEK",iso:"ee"},{symbol:"Br",name:"Ethiopian Birr",symbol_native:"Br",code:"ETB",iso:"et"},{symbol:"GEL",name:"Georgian Lari",symbol_native:"GEL",code:"GEL",iso:"ge"},{symbol:"GH₵",name:"Ghanaian Cedi",symbol_native:"GH₵",code:"GHS",iso:"gh"},{symbol:"GTQ",name:"Guatemalan Quetzal",symbol_native:"Q",code:"GTQ",iso:"gt"},{symbol:"FG",name:"Guinean Franc",symbol_native:"FG",code:"GNF",iso:"gn"},{symbol:"HNL",name:"Honduran Lempira",symbol_native:"L",code:"HNL",iso:"hn"},{symbol:"HK$",name:"Hong Kong Dollar",symbol_native:"$",code:"HKD",iso:"hk"},{symbol:"Ft",name:"Hungarian Forint",symbol_native:"Ft",code:"HUF",iso:"hu"},{symbol:"Ikr",name:"Icelandic Króna",symbol_native:"kr",code:"ISK",iso:"is"},{symbol:"Rs",name:"Indian Rupee",symbol_native:"টকা",code:"INR",iso:"in"},{symbol:"Rp",name:"Indonesian Rupiah",symbol_native:"Rp",code:"IDR",iso:"id"},{symbol:"IRR",name:"Iranian Rial",symbol_native:"﷼",code:"IRR",iso:"ir"},{symbol:"IQD",name:"Iraqi Dinar",symbol_native:"د.ع.‏",code:"IQD",iso:"iq"},{symbol:"₪",name:"Israeli New Sheqel",symbol_native:"₪",code:"ILS",iso:"il"},{symbol:"J$",name:"Jamaican Dollar",symbol_native:"$",code:"JMD",iso:"jm"},{symbol:"JD",name:"Jordanian Dinar",symbol_native:"د.أ.‏",code:"JOD",iso:"jo"},{symbol:"KZT",name:"Kazakhstani Tenge",symbol_native:"тңг.",code:"KZT",iso:"kz"},{symbol:"Ksh",name:"Kenyan Shilling",symbol_native:"Ksh",code:"KES",iso:"ke"},{symbol:"KD",name:"Kuwaiti Dinar",symbol_native:"د.ك.‏",code:"KWD",iso:"kw"},{symbol:"Ls",name:"Latvian Lats",symbol_native:"Ls",code:"LVL",iso:"lv"},{symbol:"LB£",name:"Lebanese Pound",symbol_native:"ل.ل.‏",code:"LBP",iso:"lb"},{symbol:"LD",name:"Libyan Dinar",symbol_native:"د.ل.‏",code:"LYD",iso:"ly"},{symbol:"Lt",name:"Lithuanian Litas",symbol_native:"Lt",code:"LTL",iso:"lt"},{symbol:"MOP$",name:"Macanese Pataca",symbol_native:"MOP$",code:"MOP",iso:"mo"},{symbol:"MKD",name:"Macedonian Denar",symbol_native:"MKD",code:"MKD",iso:"mk"},{symbol:"MGA",name:"Malagasy Ariary",symbol_native:"MGA",code:"MGA",iso:"mg"},{symbol:"RM",name:"Malaysian Ringgit",symbol_native:"RM",code:"MYR",iso:"my"},{symbol:"MURs",name:"Mauritian Rupee",symbol_native:"MURs",code:"MUR",iso:"mu"},{symbol:"MX$",name:"Mexican Peso",symbol_native:"$",code:"MXN",iso:"mx"},{symbol:"MDL",name:"Moldovan Leu",symbol_native:"MDL",code:"MDL",iso:"md"},{symbol:"MAD",name:"Moroccan Dirham",symbol_native:"د.م.‏",code:"MAD",iso:"ma"},{symbol:"MTn",name:"Mozambican Metical",symbol_native:"MTn",code:"MZN",iso:"mz"},{symbol:"MMK",name:"Myanma Kyat",symbol_native:"K",code:"MMK",iso:"mm"},{symbol:"N$",name:"Namibian Dollar",symbol_native:"N$",code:"NAD",iso:"na"},{symbol:"NPRs",name:"Nepalese Rupee",symbol_native:"नेरू",code:"NPR",iso:"np"},{symbol:"NT$",name:"New Taiwan Dollar",symbol_native:"NT$",code:"TWD",iso:"tw"},{symbol:"NZ$",name:"New Zealand Dollar",symbol_native:"$",code:"NZD",iso:"nz"},{symbol:"C$",name:"Nicaraguan Córdoba",symbol_native:"C$",code:"NIO",iso:"ni"},{symbol:"₦",name:"Nigerian Naira",symbol_native:"₦",code:"NGN",iso:"ng"},{symbol:"kr",name:"Norwegian Krone",symbol_native:"kr",code:"NOK",iso:"no"},{symbol:"OMR",name:"Omani Rial",symbol_native:"ر.ع.‏",code:"OMR",iso:"om"},{symbol:"PKRs",name:"Pakistani Rupee",symbol_native:"₨",code:"PKR",iso:"pk"},{symbol:"B/.",name:"Panamanian Balboa",symbol_native:"B/.",code:"PAB",iso:"pa"},{symbol:"₲",name:"Paraguayan Guarani",symbol_native:"₲",code:"PYG",iso:"py"},{symbol:"S/.",name:"Peruvian Nuevo Sol",symbol_native:"S/.",code:"PEN",iso:"pe"},{symbol:"₱",name:"Philippine Peso",symbol_native:"₱",code:"PHP",iso:"ph"},{symbol:"zł",name:"Polish Zloty",symbol_native:"zł",code:"PLN",iso:"pl"},{symbol:"QR",name:"Qatari Rial",symbol_native:"ر.ق.‏",code:"QAR",iso:"qa"},{symbol:"RON",name:"Romanian Leu",symbol_native:"RON",code:"RON",iso:"ro"},{symbol:"RWF",name:"Rwandan Franc",symbol_native:"FR",code:"RWF",iso:"rw"},{symbol:"SR",name:"Saudi Riyal",symbol_native:"ر.س.‏",code:"SAR",iso:"sa"},{symbol:"din.",name:"Serbian Dinar",symbol_native:"дин.",code:"RSD",iso:"rs"},{symbol:"S$",name:"Singapore Dollar",symbol_native:"$",code:"SGD",iso:"sg"},{symbol:"Ssh",name:"Somali Shilling",symbol_native:"Ssh",code:"SOS",iso:"so"},{symbol:"R",name:"South African Rand",symbol_native:"R",code:"ZAR",iso:"za"},{symbol:"₩",name:"South Korean Won",symbol_native:"₩",code:"KRW",iso:"kr"},{symbol:"₭",name:"Lao kip",symbol_native:"₭",code:"LAK",iso:"la"},{symbol:"SLRs",name:"Sri Lankan Rupee",symbol_native:"SL Re",code:"LKR",iso:"lk"},{symbol:"SDG",name:"Sudanese Pound",symbol_native:"SDG",code:"SDG",iso:"sd"},{symbol:"kr",name:"Swedish Krona",symbol_native:"kr",code:"SEK",iso:"se"},{symbol:"SY£",name:"Syrian Pound",symbol_native:"ل.س.‏",code:"SYP",iso:"sy"},{symbol:"TSh",name:"Tanzanian Shilling",symbol_native:"TSh",code:"TZS",iso:"tz"},{symbol:"฿",name:"Thai Baht",symbol_native:"฿",code:"THB",iso:"th"},{symbol:"T$",name:"Tongan Paʻanga",symbol_native:"T$",code:"TOP",iso:"to"},{symbol:"TT$",name:"Trinidad and Tobago Dollar",symbol_native:"$",code:"TTD",iso:"tt"},{symbol:"DT",name:"Tunisian Dinar",symbol_native:"د.ت.‏",code:"TND",iso:"tn"},{symbol:"TL",name:"Turkish Lira",symbol_native:"TL",code:"TRY",iso:"tr"},{symbol:"USh",name:"Ugandan Shilling",symbol_native:"USh",code:"UGX",iso:"ug"},{symbol:"₴",name:"Ukrainian Hryvnia",symbol_native:"₴",code:"UAH",iso:"ua"},{symbol:"AED",name:"United Arab Emirates Dirham",symbol_native:"د.إ.‏",code:"AED",iso:"ae"},{symbol:"$U",name:"Uruguayan Peso",symbol_native:"$",code:"UYU",iso:"uy"},{symbol:"UZS",name:"Uzbekistan Som",symbol_native:"UZS",code:"UZS",iso:"uz"},{symbol:"Bs.S.",name:"Venezuelan Bolívar",symbol_native:"Bs.S.",code:"VES",iso:"ve"},{symbol:"₫",name:"Vietnamese Dong",symbol_native:"₫",code:"VND",iso:"vn"},{symbol:"YR",name:"Yemeni Rial",symbol_native:"ر.ي.‏",code:"YER",iso:"ye"},{symbol:"ZK",name:"Zambian Kwacha",symbol_native:"ZK",code:"ZMK",iso:"zm"}],thousandSeparatorMap:{1:",",2:".",3:" ",4:" "},decimalSeparatorMap:{1:".",2:",",3:".",4:","}}},methods:{getCurrencySymbol:function(){var e=this;return this.currencies.find(function(t){return t.code===e.$root.settings.payments.currency}).symbol},getPriceThousandSeparator:function(){return this.thousandSeparatorMap[this.$root.settings.payments.priceSeparator]},getPriceDecimalSeparator:function(){return this.decimalSeparatorMap[this.$root.settings.payments.priceSeparator]},getPriceNumberOfDecimalPlaces:function(){return this.$root.settings.payments.priceNumberOfDecimals},getPricePrefix:function(){return"after"===this.$root.settings.payments.priceSymbolPosition||"afterWithSpace"===this.$root.settings.payments.priceSymbolPosition?"":"before"===this.$root.settings.payments.priceSymbolPosition?this.getCurrencySymbol():this.getCurrencySymbol()+" "},getPriceSuffix:function(){return"before"===this.$root.settings.payments.priceSymbolPosition||"beforeWithSpace"===this.$root.settings.payments.priceSymbolPosition?"":"after"===this.$root.settings.payments.priceSymbolPosition?this.getCurrencySymbol():" "+this.getCurrencySymbol()},getFormattedPrice:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this.getPriceNumberOfDecimalPlaces(),i=this.getPriceThousandSeparator(),n=this.getPriceDecimalSeparator(),a=this.getPricePrefix(),s=this.getPriceSuffix(),r=parseInt(e=Math.abs(+e||0).toFixed(o))+"",l=r.length>3?r.length%3:0;return(t?a:"")+(l?r.substr(0,l)+i:"")+r.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+i)+(o?n+Math.abs(e-r).toFixed(o).slice(2):"")+(t?s:"")}},computed:{moneyComponentData:function(){return{decimal:this.getPriceDecimalSeparator(),thousands:this.getPriceThousandSeparator(),prefix:this.getPricePrefix(),suffix:this.getPriceSuffix(),precision:this.getPriceNumberOfDecimalPlaces(),masked:!1}}}}},676:function(e,t,o){(function(o){var i,n,a,s;s=void 0!==o?o:this.window||this.global,n=[],i=function(e){var t,o={},i=!!document.querySelector&&!!e.addEventListener,n={initClass:"js-inlinesvg",svgSelector:"img.svg"},a=function(){var e={},t=!1,o=0,i=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],o++);for(var n=function(o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t&&"[object Object]"===Object.prototype.toString.call(o[i])?e[i]=a(!0,e[i],o[i]):e[i]=o[i])};i>o;o++){n(arguments[o])}return e},s=function(e){var o=document.querySelectorAll(t.svgSelector),i=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}}(o.length,e);Array.prototype.forEach.call(o,function(e,o){var n=e.src||e.getAttribute("data-src"),a=e.attributes,s=new XMLHttpRequest;s.open("GET",n,!0),s.onload=function(){if(s.status>=200&&s.status<400){var o=(new DOMParser).parseFromString(s.responseText,"text/xml").getElementsByTagName("svg")[0];if(o.removeAttribute("xmlns:a"),o.removeAttribute("width"),o.removeAttribute("height"),o.removeAttribute("x"),o.removeAttribute("y"),o.removeAttribute("enable-background"),o.removeAttribute("xmlns:xlink"),o.removeAttribute("xml:space"),o.removeAttribute("version"),Array.prototype.slice.call(a).forEach(function(e){"src"!==e.name&&"alt"!==e.name&&o.setAttribute(e.name,e.value)}),o.classList?o.classList.add("inlined-svg"):o.className+=" inlined-svg",o.setAttribute("role","img"),a.longdesc){var n=document.createElementNS("http://www.w3.org/2000/svg","desc"),r=document.createTextNode(a.longdesc.value);n.appendChild(r),o.insertBefore(n,o.firstChild)}if(a.alt){o.setAttribute("aria-labelledby","title");var l=document.createElementNS("http://www.w3.org/2000/svg","title"),c=document.createTextNode(a.alt.value);l.appendChild(c),o.insertBefore(l,o.firstChild)}e.parentNode.replaceChild(o,e),i(t.svgSelector)}else console.error("There was an error retrieving the source of the SVG.")},s.onerror=function(){console.error("There was an error connecting to the origin server.")},s.send()})};return o.init=function(e,o){i&&(t=a(n,e||{}),s(o||function(){}),document.documentElement.className+=" "+t.initClass)},o}(s),void 0===(a="function"==typeof i?i.apply(t,n):i)||(e.exports=a)}).call(t,o(39))},677:function(e,t,o){"use strict";var i=o(1),n=o.n(i);t.a={data:function(){return{timeSelectOptions:{start:"00:00",end:"23:59",step:this.secondsToTimeSelectStep(this.getTimeSlotLength())}}},methods:{convertDateTimeRangeDifferenceToMomentDuration:function(e,t){return n.a.duration(n()(t).diff(n()(e)))},convertSecondsToMomentDuration:function(e){return n.a.duration(e,"seconds")},momentDurationToNiceDurationWithUnit:function(e){var t=Math.floor(e.asMinutes()/60),o=e.asMinutes()%60;return(t?t+this.$root.labels.h+" ":"")+" "+(o?o+this.$root.labels.min:"")},secondsToNiceDuration:function(e){var t=Math.floor(e/3600),o=e/60%60;return(t?t+this.$root.labels.h+" ":"")+" "+(o?o+this.$root.labels.min:"")},secondsToTimeSelectStep:function(e){var t=Math.floor(e/3600),o=Math.floor(e/60)-60*t;return(t||"00")+":"+(o||"00")},getTimeSlotLength:function(){return this.$root.settings.general.timeSlotLength},getPossibleDurationsInSeconds:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:84600,o=[],i=this.getTimeSlotLength();i<=t;i+=this.getTimeSlotLength())o.push(i);return e&&-1===o.indexOf(e)&&(o.push(e),o.sort(function(e,t){return e-t})),o},getTimeSelectOptionsWithLimits:function(e,t){return{start:"00:00",end:"24:00",step:this.secondsToTimeSelectStep(this.getTimeSlotLength()),minTime:e,maxTime:t}},getStringTimeInSeconds:function(e){return n()(e,"HH:mm").diff(n()().startOf("day"),"seconds")}}}},679:function(e,t,o){"use strict";t.a={data:function(){return{}},methods:{getLocationById:function(e){return this.options.entities.locations.find(function(t){return t.id===e})||null},getCustomerById:function(e){return this.options.entities.customers.find(function(t){return t.id===e})||null},getProviderById:function(e){return this.options.entities.employees.find(function(t){return t.id===e})||null},getServiceById:function(e){return this.options.entities.services.find(function(t){return t.id===e})||null},getServiceProviders:function(e){var t=this;return this.options.entities.employees.filter(function(o){return-1!==o.serviceList.filter(function(e){return t.isEmployeeService(o.id,e.id)}).map(function(e){return e.id}).indexOf(e)})},getServicesFromCategories:function(){var e=[];return this.options.entities.categories.map(function(e){return e.serviceList}).forEach(function(t){e=e.concat(t)}),e},getCategoryServices:function(e){return this.options.entities.categories.find(function(t){return t.id===e}).serviceList},getCustomerInfo:function(e){return"info"in e&&e.info?JSON.parse(e.info):this.getCustomerById(e.customerId)},isEmployeeServiceLocation:function(e,t,o){return e in this.options.entitiesRelations&&t in this.options.entitiesRelations[e]&&-1!==this.options.entitiesRelations[e][t].indexOf(o)},isEmployeeService:function(e,t){return e in this.options.entitiesRelations&&t in this.options.entitiesRelations[e]},isEmployeeLocation:function(e,t){var o=!1;if(e in this.options.entitiesRelations)for(var i in this.options.entitiesRelations[e])this.options.entitiesRelations[e].hasOwnProperty(i)&&-1!==this.options.entitiesRelations[e][i].indexOf(t)&&(o=!0);return o},getAvailableEntitiesIds:function(e,t){var o=this,i=[],n=[],a=[],s=null!==t.categoryId?e.categories.find(function(e){return e.id===t.categoryId}).serviceList.map(function(e){return e.id}):[];if(null!==t.categoryId&&0===s.length||null!==t.serviceId&&null!==t.employeeId&&!this.isEmployeeService(t.employeeId,t.serviceId)||null!==t.serviceId&&null!==t.employeeId&&null!==t.locationId&&!this.isEmployeeServiceLocation(t.employeeId,t.serviceId,t.locationId))return{services:[],locations:[],employees:[],categories:[]};var r=function(e){if(!o.options.entitiesRelations.hasOwnProperty(e))return"continue";var r=parseInt(e);if(null!==t.employeeId&&t.employeeId!==r||null!==t.locationId&&!o.isEmployeeLocation(r,t.locationId)||null!==t.serviceId&&!o.isEmployeeService(r,t.serviceId)||null!==t.categoryId&&0===s.filter(function(e){return o.isEmployeeService(r,e)}).length||null!==t.categoryId&&null!==t.locationId&&0===s.filter(function(e){return o.isEmployeeServiceLocation(r,e,t.locationId)}).length||null!==t.serviceId&&null!==t.locationId&&!o.isEmployeeServiceLocation(r,t.serviceId,t.locationId))return"continue";for(var l in-1===n.indexOf(r)&&n.push(r),o.options.entitiesRelations[r])if(o.options.entitiesRelations[r].hasOwnProperty(l)){var c=parseInt(l);null!==t.serviceId&&t.serviceId!==c||null!==t.categoryId&&-1===s.indexOf(c)||null!==t.locationId&&!o.isEmployeeServiceLocation(r,c,t.locationId)||(-1===i.indexOf(c)&&i.push(c),o.options.entitiesRelations[r][c].length&&o.options.entitiesRelations[r][c].forEach(function(e){null!==t.locationId&&t.locationId!==e||-1===a.indexOf(e)&&a.push(e)}))}};for(var l in this.options.entitiesRelations)r(l);return{services:i,locations:a,employees:n,categories:e.categories.filter(function(e){return e.serviceList.map(function(e){return e.id}).filter(function(e){return-1!==i.indexOf(e)}).length>0}).map(function(e){return e.id})}},filterEntities:function(e,t){var o=this.getAvailableEntitiesIds(e,t);this.options.entities.employees=e.employees.filter(function(e){return-1!==o.employees.indexOf(e.id)&&e.serviceList.filter(function(e){return-1!==o.services.indexOf(e.id)}).length>0}),this.options.entities.categories=e.categories,this.options.entities.services=this.getServicesFromCategories().filter(function(e){return e.show&&-1!==o.services.indexOf(e.id)}),this.options.entities.services.forEach(function(e){e.extras.forEach(function(e){e.extraId=e.id})}),this.options.entities.locations=e.locations.filter(function(e){return-1!==o.locations.indexOf(e.id)}),this.options.entities.customFields=e.customFields},getShortCodeEntityIds:function(){return this.$root.shortcodeData.booking?{categoryId:"category"in this.$root.shortcodeData.booking?this.$root.shortcodeData.booking.category:null,serviceId:"service"in this.$root.shortcodeData.booking?this.$root.shortcodeData.booking.service:null,employeeId:"employee"in this.$root.shortcodeData.booking?this.$root.shortcodeData.booking.employee:null,locationId:"location"in this.$root.shortcodeData.booking?this.$root.shortcodeData.booking.location:null}:{categoryId:null,serviceId:null,employeeId:null,locationId:null}},fetchEntities:function(e,t){var o=this,i={types:t.types};t.page&&(i.page=t.page),this.$http.get(this.$root.getAjaxUrl+"/entities",{params:i}).then(function(i){o.options.isFrontEnd=t.isFrontEnd,o.options.entitiesRelations=i.data.data.entitiesRelations,o.options.isFrontEnd?o.filterEntities(i.data.data,o.getShortCodeEntityIds()):(o.options.entities.employees=i.data.data.employees,o.options.entities.categories=i.data.data.categories,o.options.entities.locations=i.data.data.locations,o.options.entities.customers=i.data.data.customers,o.options.entities.services=o.getServicesFromCategories(),o.options.entities.services.forEach(function(e){e.extras.forEach(function(e){e.extraId=e.id})}),o.options.availableEntitiesIds=o.getAvailableEntitiesIds(i.data.data,{categoryId:null,serviceId:null,employeeId:null,locationId:null})),o.options.entities.tags="tags"in i.data.data?i.data.data.tags:[],o.options.entities.customFields=i.data.data.customFields;e(!0)}).catch(function(t){console.log(t);e(!1)})},getFilteredEntities:function(e,t,o){var i=this,n=this.appointment&&this.appointment.id&&this.appointment[o]?this.appointment[o]:null;return this.options.entities[t].forEach(function(t){t.disabled=-1===e.indexOf(t.id)}),this.options.entities[t].filter(function(e){return-1!==i.options.availableEntitiesIds[t].indexOf(e.id)||null!==n&&n===e.id})}},computed:{visibleLocations:function(){return this.options.entities.locations.filter(function(e){return"visible"===e.status})},visibleEmployees:function(){return this.options.entities.employees.filter(function(e){return"visible"===e.status})},visibleCustomers:function(){return this.options.entities.customers.filter(function(e){return"visible"===e.status})},visibleServices:function(){return this.options.entities.services.filter(function(e){return"visible"===e.status})},employeesFiltered:function(){var e=this,t=this.visibleEmployees.filter(function(t){return t.serviceList.filter(function(o){return"visible"===o.status&&(!e.appointment.serviceId||e.isEmployeeService(t.id,o.id)&&o.id===e.appointment.serviceId)&&(!e.appointment.locationId||e.isEmployeeServiceLocation(t.id,o.id,e.appointment.locationId))&&(!e.appointment.categoryId||t.serviceList.filter(function(t){return"visible"===t.status&&t.categoryId===e.appointment.categoryId}).length>0)}).length>0});return this.options.isFrontEnd?t:this.getFilteredEntities(t.map(function(e){return e.id}),"employees","providerId")},servicesFiltered:function(){var e=this,t=[];if(this.appointment.providerId){var o=this.employeesFiltered.find(function(t){return t.id===e.appointment.providerId});t=void 0!==o?o.serviceList.filter(function(e){return"visible"===e.status}).map(function(e){return e.id}):[]}var i=this.visibleServices.filter(function(o){return!(e.appointment.providerId&&-1===t.indexOf(o.id)||e.appointment.locationId&&!(e.employeesFiltered.filter(function(t){return e.isEmployeeServiceLocation(t.id,o.id,e.appointment.locationId)}).length>0)||e.appointment.categoryId&&o.categoryId!==e.appointment.categoryId)});return this.options.isFrontEnd?i:this.getFilteredEntities(i.map(function(e){return e.id}),"services","serviceId")},locationsFiltered:function(){var e=this,t=[];if(this.appointment.providerId){var o=this.employeesFiltered.find(function(t){return t.id===e.appointment.providerId});t=void 0!==o?o.serviceList.filter(function(e){return"visible"===e.status}):[]}var i=null;this.appointment.categoryId&&(i=this.categoriesFiltered.find(function(t){return t.id===e.appointment.categoryId}));var n=this.visibleLocations.filter(function(o){return(!e.appointment.providerId||t.filter(function(t){return e.isEmployeeServiceLocation(e.appointment.providerId,t.id,o.id)}).length>0)&&(!e.appointment.serviceId||e.employeesFiltered.filter(function(t){return e.isEmployeeServiceLocation(t.id,e.appointment.serviceId,o.id)}).length>0)&&(!e.appointment.categoryId||void 0!==i&&e.employeesFiltered.filter(function(t){return t.serviceList.filter(function(n){return"visible"===n.status&&n.categoryId===i.id&&e.isEmployeeServiceLocation(t.id,n.id,o.id)}).length>0}).length>0)});return this.options.isFrontEnd?n:this.getFilteredEntities(n.map(function(e){return e.id}),"locations","locationId")},categoriesFiltered:function(){var e=this,t=null;this.appointment.providerId&&(t=this.employeesFiltered.find(function(t){return t.id===e.appointment.providerId}));var o=null;this.appointment.serviceId&&(o=this.servicesFiltered.find(function(t){return t.id===e.appointment.serviceId}));var i=this.options.entities.categories.filter(function(i){return(!e.appointment.serviceId||void 0!==o&&o.categoryId===i.id)&&(!e.appointment.locationId||i.serviceList.filter(function(t){return"visible"===t.status&&e.employeesFiltered.filter(function(o){return e.isEmployeeServiceLocation(o.id,t.id,e.appointment.locationId)}).length>0}).length>0)&&(!e.appointment.providerId||void 0!==t&&-1!==t.serviceList.filter(function(t){return"visible"===t.status&&e.isEmployeeService(e.appointment.providerId,t.id)}).map(function(e){return e.categoryId}).indexOf(i.id))});return this.options.isFrontEnd?i:this.getFilteredEntities(i.map(function(e){return e.id}),"categories","categoryId")}}}},680:function(e,t,o){var i=o(670)(o(689),o(690),!1,null,null,null);e.exports=i.exports},683:function(e,t,o){"use strict";t.a={data:function(){return{countries:[{id:1,iso:"af",nicename:"Afghanistan",phonecode:93,format:"070 123 4567"},{id:2,iso:"al",nicename:"Albania",phonecode:355,format:"066 123 4567"},{id:3,iso:"dz",nicename:"Algeria",phonecode:213,format:"0551 23 45 67"},{id:4,iso:"as",nicename:"American Samoa",phonecode:1,format:"(684) 733 1234"},{id:5,iso:"ad",nicename:"Andorra",phonecode:376,format:"312 345"},{id:6,iso:"ao",nicename:"Angola",phonecode:244,format:"923 123 456"},{id:7,iso:"ai",nicename:"Anguilla",phonecode:1,format:"(264) 235 1234"},{id:8,iso:"ag",nicename:"Antigua and Barbuda",phonecode:1,format:"(268) 464 1234"},{id:9,iso:"ar",nicename:"Argentina",phonecode:54,format:"9 (11) 1234 567"},{id:10,iso:"am",nicename:"Armenia",phonecode:374,format:"077 123 456"},{id:11,iso:"aw",nicename:"Aruba",phonecode:297,format:"560 1234"},{id:12,iso:"au",nicename:"Australia",phonecode:61,format:"0412 345 678"},{id:13,iso:"at",nicename:"Austria",phonecode:43,format:"0664 123456"},{id:14,iso:"az",nicename:"Azerbaijan",phonecode:994,format:"040 123 45 67"},{id:15,iso:"bs",nicename:"Bahamas",phonecode:1,format:"(242) 359 1234"},{id:16,iso:"bh",nicename:"Bahrain",phonecode:973,format:"3600 1234"},{id:17,iso:"bd",nicename:"Bangladesh",phonecode:880,format:"018 1234 5678"},{id:18,iso:"bb",nicename:"Barbados",phonecode:1,format:"(246) 250 1234"},{id:19,iso:"by",nicename:"Belarus",phonecode:375,format:"029 491 1911"},{id:20,iso:"be",nicename:"Belgium",phonecode:32,format:"0470 123 456"},{id:21,iso:"bz",nicename:"Belize",phonecode:501,format:"622 1234"},{id:22,iso:"bj",nicename:"Benin",phonecode:229,format:"90 123 456"},{id:23,iso:"bm",nicename:"Bermuda",phonecode:1,format:"(441) 370 1234"},{id:24,iso:"bt",nicename:"Bhutan",phonecode:975,format:"17 123 456"},{id:25,iso:"bo",nicename:"Bolivia",phonecode:591,format:"7 123 4567"},{id:26,iso:"ba",nicename:"Bosnia and Herzegovina",phonecode:387,format:"061 123 456"},{id:27,iso:"bw",nicename:"Botswana",phonecode:267,format:"71 123 456"},{id:28,iso:"br",nicename:"Brazil",phonecode:55,format:"(11) 9 1234 5678"},{id:29,iso:"vg",nicename:"British Virgin Islands",phonecode:1,format:"(284) 300 1234"},{id:30,iso:"bn",nicename:"Brunei",phonecode:673,format:"712 3456"},{id:31,iso:"bg",nicename:"Bulgaria",phonecode:359,format:"087 123 4567"},{id:32,iso:"bf",nicename:"Burkina Faso",phonecode:226,format:"70 12 34 56"},{id:33,iso:"bi",nicename:"Burundi",phonecode:257,format:"79 56 12 34"},{id:34,iso:"kh",nicename:"Cambodia",phonecode:855,format:"091 234 567"},{id:35,iso:"cm",nicename:"Cameroon",phonecode:237,format:"6 71 23 45 67"},{id:36,iso:"ca",nicename:"Canada",phonecode:1,format:"(204) 123 4567"},{id:37,iso:"cv",nicename:"Cape Verde",phonecode:238,format:"991 12 34"},{id:38,iso:"ky",nicename:"Cayman Islands",phonecode:1,format:"(345) 323 1234"},{id:39,iso:"cf",nicename:"Central African Republic",phonecode:236,format:"70 01 23 45"},{id:40,iso:"td",nicename:"Chad",phonecode:235,format:"63 01 23 45"},{id:41,iso:"cl",nicename:"Chile",phonecode:56,format:"09 6123 4567"},{id:42,iso:"cn",nicename:"China",phonecode:86,format:"131 2345 6789"},{id:43,iso:"co",nicename:"Colombia",phonecode:57,format:"321 1234567"},{id:44,iso:"km",nicename:"Comoros",phonecode:269,format:"321 23 45"},{id:45,iso:"cd",nicename:"Congo (DRC)",phonecode:243,format:"0991 234 567"},{id:46,iso:"cg",nicename:"Congo (Republic)",phonecode:242,format:"06 123 4567"},{id:47,iso:"ck",nicename:"Cook Islands",phonecode:682,format:"71 234"},{id:48,iso:"cr",nicename:"Costa Rica",phonecode:506,format:"8312 3456"},{id:49,iso:"ci",nicename:"Cote D'Ivoire",phonecode:225,format:"01 23 45 67"},{id:50,iso:"hr",nicename:"Croatia",phonecode:385,format:"091 234 5678"},{id:51,iso:"cu",nicename:"Cuba",phonecode:53,format:"05 1234567"},{id:57,iso:"cy",nicename:"Cyprus",phonecode:357,format:"96 123456"},{id:58,iso:"cz",nicename:"Czech Republic",phonecode:420,format:"601 123 456"},{id:59,iso:"dk",nicename:"Denmark",phonecode:45,format:"20 12 34 56"},{id:60,iso:"dj",nicename:"Djibouti",phonecode:253,format:"77 83 10 01"},{id:61,iso:"dm",nicename:"Dominica",phonecode:1,format:"(767) 225 1234"},{id:62,iso:"do",nicename:"Dominican Republic",phonecode:1,format:"(809) 234 5678"},{id:63,iso:"ec",nicename:"Ecuador",phonecode:593,format:"099 123 4567"},{id:64,iso:"eg",nicename:"Egypt",phonecode:20,format:"0100 123 4567"},{id:65,iso:"sv",nicename:"El Salvador",phonecode:503,format:"7012 3456"},{id:66,iso:"gq",nicename:"Equatorial Guinea",phonecode:240,format:"222 123 456"},{id:67,iso:"er",nicename:"Eritrea",phonecode:291,format:"07 123 456"},{id:68,iso:"ee",nicename:"Estonia",phonecode:372,format:"5123 4567"},{id:69,iso:"et",nicename:"Ethiopia",phonecode:251,format:"091 123 4567"},{id:70,iso:"fk",nicename:"Falkland Islands (Malvinas)",phonecode:500,format:"51234"},{id:71,iso:"fo",nicename:"Faroe Islands",phonecode:298,format:"211234"},{id:72,iso:"fj",nicename:"Fiji",phonecode:679,format:"701 2345"},{id:73,iso:"fi",nicename:"Finland",phonecode:358,format:"041 2345678"},{id:74,iso:"fr",nicename:"France",phonecode:33,format:"06 12 34 56 78"},{id:75,iso:"gf",nicename:"French Guiana",phonecode:594,format:"0694 20 12 34"},{id:76,iso:"pf",nicename:"French Polynesia",phonecode:689,format:"87 12 34 56"},{id:77,iso:"ga",nicename:"Gabon",phonecode:241,format:"06 03 12 34"},{id:78,iso:"gm",nicename:"Gambia",phonecode:220,format:"301 2345"},{id:79,iso:"ge",nicename:"Georgia",phonecode:995,format:"555 12 34 56"},{id:80,iso:"de",nicename:"Germany",phonecode:49,format:"01512 3456789"},{id:81,iso:"gh",nicename:"Ghana",phonecode:233,format:"023 123 4567"},{id:82,iso:"gi",nicename:"Gibraltar",phonecode:350,format:"57123456"},{id:83,iso:"gr",nicename:"Greece",phonecode:30,format:"691 234 5678"},{id:84,iso:"gl",nicename:"Greenland",phonecode:299,format:"22 12 34"},{id:85,iso:"gp",nicename:"Guadeloupe",phonecode:590,format:"690 123 456"},{id:87,iso:"gu",nicename:"Guam",phonecode:1,format:"(671) 300 1234"},{id:88,iso:"gt",nicename:"Guatemala",phonecode:502,format:"5123 4567"},{id:89,iso:"gg",nicename:"Guernsey",phonecode:44,format:"07781 123456"},{id:90,iso:"gn",nicename:"Guinea",phonecode:224,format:"601 12 34 56"},{id:91,iso:"gw",nicename:"Guinea-Bissau",phonecode:245,format:"955 012 345"},{id:92,iso:"gy",nicename:"Guyana",phonecode:592,format:"609 1234"},{id:93,iso:"ht",nicename:"Haiti",phonecode:509,format:"34 10 1234"},{id:94,iso:"hn",nicename:"Honduras",phonecode:504,format:"9123 4567"},{id:95,iso:"hk",nicename:"Hong Kong",phonecode:852,format:"5123 4567"},{id:96,iso:"hu",nicename:"Hungary",phonecode:36,format:"(20) 123 4567"},{id:97,iso:"is",nicename:"Iceland",phonecode:354,format:"611 1234"},{id:98,iso:"in",nicename:"India",phonecode:91,format:"099876 54321"},{id:99,iso:"id",nicename:"Indonesia",phonecode:62,format:"0812 345 678"},{id:100,iso:"ir",nicename:"Iran",phonecode:98,format:"0912 345 6789"},{id:101,iso:"iq",nicename:"Iraq",phonecode:964,format:"0791 234 5678"},{id:102,iso:"ie",nicename:"Ireland",phonecode:353,format:"085 012 3456"},{id:103,iso:"im",nicename:"Isle of Man",phonecode:44,format:"07924 123456"},{id:104,iso:"il",nicename:"Israel",phonecode:972,format:"050 123 4567"},{id:105,iso:"it",nicename:"Italy",phonecode:39,format:"312 345 6789"},{id:106,iso:"jm",nicename:"Jamaica",phonecode:1,format:"(876) 210 1234"},{id:107,iso:"jp",nicename:"Japan",phonecode:81,format:"090 1234 5678"},{id:108,iso:"je",nicename:"Jersey",phonecode:44,format:"07797 123456"},{id:109,iso:"jo",nicename:"Jordan",phonecode:962,format:"07 9012 3456"},{id:110,iso:"kz",nicename:"Kazakhstan",phonecode:7,format:"(771) 123 4567"},{id:111,iso:"ke",nicename:"Kenya",phonecode:254,format:"0712 123456"},{id:112,iso:"ki",nicename:"Kiribati",phonecode:686,format:"72012345"},{id:241,iso:"xk",nicename:"Kosovo",phonecode:383,format:"044 1234567"},{id:113,iso:"kw",nicename:"Kuwait",phonecode:965,format:"500 12345"},{id:114,iso:"kg",nicename:"Kyrgyzstan",phonecode:996,format:"0700 123 456"},{id:115,iso:"la",nicename:"Laos",phonecode:856,format:"020 23 123 456"},{id:116,iso:"lv",nicename:"Latvia",phonecode:371,format:"21 234 567"},{id:117,iso:"lb",nicename:"Lebanon",phonecode:961,format:"71 123 456"},{id:118,iso:"ls",nicename:"Lesotho",phonecode:266,format:"5012 3456"},{id:119,iso:"lr",nicename:"Liberia",phonecode:231,format:"077 012 3456"},{id:120,iso:"ly",nicename:"Libya",phonecode:218,format:"091 2345678"},{id:121,iso:"li",nicename:"Liechtenstein",phonecode:423,format:"660 234 567"},{id:122,iso:"lt",nicename:"Lithuania",phonecode:370,format:"612 345 67"},{id:123,iso:"lu",nicename:"Luxembourg",phonecode:352,format:"628 123 456"},{id:124,iso:"mo",nicename:"Macao",phonecode:853,format:"6612 3456"},{id:125,iso:"mk",nicename:"Macedonia (FYROM)",phonecode:389,format:"072 345 678"},{id:126,iso:"mg",nicename:"Madagascar",phonecode:261,format:"032 12 345 67"},{id:127,iso:"mw",nicename:"Malawi",phonecode:265,format:"0991 23 45 67"},{id:128,iso:"my",nicename:"Malaysia",phonecode:60,format:"012 345 6789"},{id:129,iso:"mv",nicename:"Maldives",phonecode:960,format:"771 2345"},{id:130,iso:"ml",nicename:"Mali",phonecode:223,format:"65 01 23 45"},{id:131,iso:"mt",nicename:"Malta",phonecode:356,format:"9696 1234"},{id:132,iso:"mh",nicename:"Marshall Islands",phonecode:692,format:"235 1234"},{id:133,iso:"mq",nicename:"Martinique",phonecode:596,format:"0696 20 12 34"},{id:134,iso:"mr",nicename:"Mauritania",phonecode:222,format:"22 12 34 56"},{id:135,iso:"mu",nicename:"Mauritius",phonecode:230,format:"5251 2345"},{id:136,iso:"yt",nicename:"Mayotte",phonecode:269,format:"0639 12 34 56"},{id:137,iso:"mx",nicename:"Mexico",phonecode:52,format:"044 222 123 4567"},{id:138,iso:"fm",nicename:"Micronesia",phonecode:691,format:"350 1234"},{id:139,iso:"md",nicename:"Moldova",phonecode:373,format:"0621 12 345"},{id:140,iso:"mc",nicename:"Monaco",phonecode:377,format:"06 12 34 56 78"},{id:141,iso:"mn",nicename:"Mongolia",phonecode:976,format:"8812 3456"},{id:142,iso:"me",nicename:"Montenegro",phonecode:382,format:"067 622 901"},{id:143,iso:"ms",nicename:"Montserrat",phonecode:1,format:"(664) 492 3456"},{id:144,iso:"ma",nicename:"Morocco",phonecode:212,format:"0650 123456"},{id:145,iso:"mz",nicename:"Mozambique",phonecode:258,format:"82 123 4567"},{id:146,iso:"mm",nicename:"Myanmar",phonecode:95,format:"09 212 3456"},{id:147,iso:"na",nicename:"Namibia",phonecode:264,format:"081 123 4567"},{id:149,iso:"np",nicename:"Nepal",phonecode:977,format:"984 1234567"},{id:150,iso:"nl",nicename:"Netherlands",phonecode:31,format:"06 12345678"},{id:151,iso:"nc",nicename:"New Caledonia",phonecode:687,format:"75 12 34"},{id:152,iso:"nz",nicename:"New Zealand",phonecode:64,format:"021 123 4567"},{id:153,iso:"ni",nicename:"Nicaragua",phonecode:505,format:"8123 4567"},{id:154,iso:"ne",nicename:"Niger",phonecode:227,format:"93 12 34 56"},{id:155,iso:"ng",nicename:"Nigeria",phonecode:234,format:"0802 123 4567"},{id:156,iso:"nu",nicename:"Niue",phonecode:683,format:"1234"},{id:157,iso:"nf",nicename:"Norfolk Island",phonecode:672,format:"3 81234"},{id:160,iso:"no",nicename:"Norway",phonecode:47,format:"406 12 345"},{id:161,iso:"om",nicename:"Oman",phonecode:968,format:"9212 3456"},{id:162,iso:"pk",nicename:"Pakistan",phonecode:92,format:"0301 2345678"},{id:163,iso:"pw",nicename:"Palau",phonecode:680,format:"620 1234"},{id:164,iso:"ps",nicename:"Palestine",phonecode:970,format:"0599 123 456"},{id:165,iso:"pa",nicename:"Panama",phonecode:507,format:"6001 2345"},{id:166,iso:"pg",nicename:"Papua New Guinea",phonecode:675,format:"681 2345"},{id:167,iso:"py",nicename:"Paraguay",phonecode:595,format:"0961 456789"},{id:168,iso:"pe",nicename:"Peru",phonecode:51,format:"912 345 678"},{id:169,iso:"ph",nicename:"Philippines",phonecode:63,format:"0905 123 4567"},{id:170,iso:"pl",nicename:"Poland",phonecode:48,format:"512 345 678"},{id:171,iso:"pt",nicename:"Portugal",phonecode:351,format:"912 345 678"},{id:172,iso:"pr",nicename:"Puerto Rico",phonecode:1,format:"(787) 234 5678"},{id:173,iso:"qa",nicename:"Qatar",phonecode:974,format:"3312 3456"},{id:174,iso:"re",nicename:"Réunion",phonecode:262,format:"639 123456"},{id:175,iso:"ro",nicename:"Romania",phonecode:40,format:"0712 345 678"},{id:176,iso:"ru",nicename:"Russia",phonecode:7,format:"(912) 123 4567",priority:1},{id:177,iso:"rw",nicename:"Rwanda",phonecode:250,format:"0720 123 456"},{id:180,iso:"kn",nicename:"Saint Kitts and Nevis",phonecode:1,format:"(869) 765 2917"},{id:181,iso:"lc",nicename:"Saint Lucia",phonecode:1,format:"(758) 284 5678"},{id:184,iso:"vc",nicename:"Saint Vincent and the Grenadines",phonecode:1,format:"(784) 430 1234"},{id:185,iso:"ws",nicename:"Samoa",phonecode:684,format:"601234"},{id:186,iso:"sm",nicename:"San Marino",phonecode:378,format:"66 66 12 12"},{id:187,iso:"st",nicename:"Sao Tome and Principe",phonecode:239,format:"981 2345"},{id:188,iso:"sa",nicename:"Saudi Arabia",phonecode:966,format:"051 234 5678"},{id:189,iso:"sn",nicename:"Senegal",phonecode:221,format:"70 123 45 67"},{id:190,iso:"rs",nicename:"Serbia",phonecode:381,format:"060 1234567"},{id:191,iso:"sc",nicename:"Seychelles",phonecode:248,format:"2 510 123"},{id:192,iso:"sl",nicename:"Sierra Leone",phonecode:232,format:"(025) 123456"},{id:193,iso:"sg",nicename:"Singapore",phonecode:65,format:"8123 4567"},{id:195,iso:"sk",nicename:"Slovakia",phonecode:421,format:"0912 123 456"},{id:196,iso:"si",nicename:"Slovenia",phonecode:386,format:"031 234 567"},{id:197,iso:"sb",nicename:"Solomon Islands",phonecode:677,format:"74 21234"},{id:198,iso:"so",nicename:"Somalia",phonecode:252,format:"7 1123456"},{id:199,iso:"za",nicename:"South Africa",phonecode:27,format:"071 123 4567"},{id:200,iso:"kr",nicename:"South Korea",phonecode:82,format:"010 1234 567"},{id:201,iso:"ss",nicename:"South Sudan",phonecode:211,format:"0977 123 456"},{id:202,iso:"es",nicename:"Spain",phonecode:34,format:"612 34 56 78"},{id:203,iso:"lk",nicename:"Sri Lanka",phonecode:94,format:"071 234 5678"},{id:204,iso:"sd",nicename:"Sudan",phonecode:249,format:"091 123 1234"},{id:205,iso:"sr",nicename:"Suriname",phonecode:597,format:"741 2345"},{id:207,iso:"sz",nicename:"Swaziland",phonecode:268,format:"7612 3456"},{id:208,iso:"se",nicename:"Sweden",phonecode:46,format:"070 123 45 67"},{id:209,iso:"ch",nicename:"Switzerland",phonecode:41,format:"078 123 45 67"},{id:210,iso:"sy",nicename:"Syria",phonecode:963,format:"0944 567 890"},{id:211,iso:"tw",nicename:"Taiwan",phonecode:886,format:"0912 345 678"},{id:212,iso:"tj",nicename:"Tajikistan",phonecode:992,format:"917 123 456"},{id:214,iso:"th",nicename:"Thailand",phonecode:66,format:"081 234 5678"},{id:215,iso:"tl",nicename:"Timor-Leste",phonecode:670,format:"7721 2345"},{id:216,iso:"tg",nicename:"Togo",phonecode:228,format:"90 11 23 45"},{id:218,iso:"to",nicename:"Tonga",phonecode:676,format:"771 5123"},{id:219,iso:"tt",nicename:"Trinidad and Tobago",phonecode:1,format:"(868) 291 1234"},{id:220,iso:"tn",nicename:"Tunisia",phonecode:216,format:"20 123 456"},{id:221,iso:"tr",nicename:"Turkey",phonecode:90,format:"0501 234 56 78"},{id:222,iso:"tm",nicename:"Turkmenistan",phonecode:7370,format:"8 66 123456"},{id:223,iso:"tc",nicename:"Turks and Caicos Islands",phonecode:1,format:"(649) 231 1234"},{id:224,iso:"tv",nicename:"Tuvalu",phonecode:688,format:"901234"},{id:225,iso:"ug",nicename:"Uganda",phonecode:256,format:"0712 345678"},{id:226,iso:"ua",nicename:"Ukraine",phonecode:380,format:"039 123 4567"},{id:227,iso:"ae",nicename:"United Arab Emirates",phonecode:971,format:"050 123 4567"},{id:228,iso:"gb",nicename:"United Kingdom",phonecode:44,format:"07400 123456",priority:1},{id:229,iso:"us",nicename:"United States",phonecode:1,format:"(201) 555 0123",priority:1},{id:230,iso:"uy",nicename:"Uruguay",phonecode:598,format:"094 231 234"},{id:231,iso:"uz",nicename:"Uzbekistan",phonecode:998,format:"8 91 234 56 78"},{id:232,iso:"vu",nicename:"Vanuatu",phonecode:678,format:"591 2345"},{id:234,iso:"ve",nicename:"Venezuela",phonecode:58,format:"0412 1234567"},{id:235,iso:"vn",nicename:"Vietnam",phonecode:84,format:"091 234 56 78"},{id:236,iso:"vi",nicename:"Virgin Islands, U.S.",phonecode:1,format:"(340) 642 1234"},{id:237,iso:"ye",nicename:"Yemen",phonecode:967,format:"0712 345 678"},{id:238,iso:"zm",nicename:"Zambia",phonecode:260,format:"095 5123456"},{id:239,iso:"zw",nicename:"Zimbabwe",phonecode:263,format:"071 123 4567"},{id:240,iso:"ax",nicename:"Åland Islands",phonecode:358,format:"041 2345678"}]}}}},689:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(683);t.default={mixins:[i.a],template:"#phone-input",props:{savedPhone:{default:"",type:String},disabled:{default:!1,type:Boolean}},data:function(){return{input:"",phone:"",value:this.$root.settings.general.phoneDefaultCountryCode,format:""}},mounted:function(){""!==this.value?this.savedPhone?this.fillInputWithSavedPhone():this.formatPhoneNumber():this.savedPhone&&this.fillInputWithSavedPhone()},methods:{onClear:function(){this.value="",this.phone="",this.$emit("phoneFormatted",this.phone)},changeCountry:function(){""!==this.value&&""!==this.input&&(this.input=""),this.formatPhoneNumber()},formatPhoneNumber:function(){var e=this;if(""!==this.value){var t=this.countries.find(function(t){return t.iso===e.value});this.format=!0===this.disabled?"":t.format}if(""!==this.input){if(this.input.startsWith("+")){var o=parseInt(this.input.slice(1)),i=this.countries.filter(function(e){return e.phonecode===o});if(i.length){var n=null;1===o?n=i.find(function(e){return 229===e.id}):44===o?n=i.find(function(e){return 228===e.id}):7===o&&(n=i.find(function(e){return 176===e.id})),void 0!==n&&null!==n||(n=i[0]),this.value=n.iso}this.phone=this.input}else this.phone=void 0!==t?!0===this.input.startsWith("0")?"+"+t.phonecode+this.input.slice(1).replace(/\D/g,""):"+"+t.phonecode+this.input.replace(/\D/g,""):this.input;this.$emit("phoneFormatted",this.phone)}else this.phone=this.input,this.$emit("phoneFormatted",this.phone)},fillInputWithSavedPhone:function(){for(var e=this,t=null,o=1;null===t&&o<5;)t=void 0!==(t=this.countries.find(function(t){return t.phonecode===parseInt(e.savedPhone.substr(1,o))&&1===t.priority}))?t:null,o++;if(!t)for(o=1;null===t&&o<5;)t=void 0!==(t=this.countries.find(function(t){return t.phonecode===parseInt(e.savedPhone.substr(1,o))}))?t:null,o++;null!==t&&(this.value=t.iso,this.input=this.savedPhone.replace("+"+t.phonecode,""),this.input=t.format.startsWith("0")?"0"+this.input:this.input)}},watch:{input:function(){this.formatPhoneNumber()}},components:{}}},690:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-input",{attrs:{placeholder:e.format,disabled:e.disabled,clearable:""},on:{clear:e.onClear},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[o("el-select",{class:"am-selected-flag am-selected-flag-"+e.value,attrs:{slot:"prepend",placeholder:"",disabled:e.disabled},on:{change:e.changeCountry},slot:"prepend",model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.countries,function(t){return o("el-option",{key:t.id,attrs:{value:t.iso,label:" "}},[o("span",{class:"am-flag am-flag-"+t.iso}),e._v(" "),o("span",{staticClass:"am-phone-input-nicename"},[e._v(e._s(t.nicename))]),e._v(" "),o("span",{staticClass:"am-phone-input-phonecode"},[e._v("+"+e._s(t.phonecode))])])}),1)],1)},staticRenderFns:[]}},721:function(e,t,o){"use strict";t.a={data:function(){return{}},methods:{getAppointmentPrice:function(e,t,o){var i=0,n=this,a=this.getServiceById(t),s=parseInt(e)!==parseInt(t);return o.forEach(function(e){e.payments.forEach(function(){["approved","pending"].includes(e.status)&&(i+=n.getBookingPrice(e,s,s?a.price:e.price,e.aggregatedPrice))}),0===e.payments.length&&(i+=n.getBookingPrice(e,!0,a.price,a.aggregatedPrice))}),this.getFormattedPrice(i>=0?i:0)},getBookingPrice:function(e,t,o,i){var n=0;e.extras.forEach(function(t){if(void 0===t.selected||!0===t.selected){var o=null===t.aggregatedPrice?i:t.aggregatedPrice;n+=t.price*t.quantity*(o?e.persons:1)}});var a=(t?o:e.price)*(i?e.persons:1)+n;return a-(a/100*(e.coupon?e.coupon.discount:0)+(e.coupon?e.coupon.deduction:0))}},watch:{}}},961:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(1),n=o.n(i),a=o(333),s=o.n(a),r=o(673),l=o(672),c=o(326),d=o(677),m=o(679),p=o(721),u=o(675),h=o(680),f=o.n(h);t.default={name:"Cabinet",mixins:[l.a,c.a,m.a,r.a,p.a,u.a,d.a],data:function(){var e=this;return{ameliaToken:null,ameliaUserEmail:null,urlToken:null,checkUrlToken:!0,isWpUser:!1,authentication:!1,authenticated:!1,changePasswordRules:{newValue:[{required:!0,message:this.$root.labels.new_password_required,trigger:"submit"},{min:4,max:128,message:this.$root.labels.new_password_length,trigger:"blur"}],retypedValue:[{required:!0,message:this.$root.labels.re_type_requred,trigger:"submit"},{validator:function(t,o,i){o!==e.password.newValue&&i(new Error(e.$root.labels.passwords_do_not_match)),i()},trigger:"submit"}]},loginRules:{email:[{required:!0,message:this.$root.labels.enter_email_warning,trigger:"submit"}],password:[{required:!0,message:this.$root.labels.enter_password_warning,trigger:"submit"}]},profileRules:{firstName:[{required:!0,message:this.$root.labels.enter_first_name_warning,trigger:"submit"}],lastName:[{required:!0,message:this.$root.labels.enter_last_name_warning,trigger:"submit"}],email:[{required:!0,message:this.$root.labels.enter_email_warning,trigger:"submit"},{type:"email",message:this.$root.labels.enter_valid_email_warning,trigger:"submit"}]},password:{newValue:"",retypedValue:""},login:{email:"",password:""},headerErrorMessage:"",headerSuccessMessage:"",phoneKey:0,submitButtonSpinner:!1,rescheduleAppointmentButtonSpinner:!1,cancelBookingButtonSpinner:!1,deleteProfileButtonSpinner:!1,fetchedEvents:!1,fetchedAppointments:!1,displayLogin:!1,displayForgotPassword:!1,displayConfirm:!1,displayChangePassword:!1,displayCabinetDashboard:!1,setPassword:!1,changedPassword:!1,activeTab:"appointments",dialogRescheduleAppointmentVisible:!1,dialogCancelBookingVisible:!1,dialogDeleteProfileVisible:!1,params:{dates:this.getDatePickerInitRange()},options:{fetched:!1,availableEntitiesIds:{categories:[],employees:[],locations:[],services:[]},entities:{categories:[],customers:[],customFields:[],employees:[],locations:[],services:[]}},statuses:[{value:"approved",label:this.$root.labels.approved},{value:"pending",label:this.$root.labels.pending},{value:"canceled",label:this.$root.labels.canceled},{value:"rejected",label:this.$root.labels.rejected}],loadingTimeSlots:!1,appointment:{id:null,bookingId:null,selectedDate:null,selectedPeriod:{},calendarTimeSlots:{},availableDates:[],disabledWeekdays:{},reservationType:null,dateTimeSlots:{}},appointments:[],events:[],clonedProfile:null,profile:{id:"",firstName:"",lastName:"",email:"",phone:"",birthday:"",type:""}}},methods:{getEventLocation:function(e){if(e.locationId&&this.options.entities.locations.length){var t=this.options.entities.locations.find(function(t){return t.id===e.locationId});return void 0!==t?t.name:""}return e.customLocation?e.customLocation:"/"},removeUrlToken:function(e,t){var o=t.split("?")[0],i=[],n=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==n){for(var a=(i=n.split("&")).length-1;a>=0;a-=1)i[a].split("=")[0]===e&&i.splice(a,1);o=o+"?"+i.join("&")}return o},phoneFormatted:function(e){this.profile.phone=e},isBookingCancelable:function(e){return!1===e.cancelable||"canceled"===e.bookings[0].status||"rejected"===e.bookings[0].status},changeRange:function(){this.setDatePickerSelectedDaysCount(this.params.dates.start,this.params.dates.end),this.getAppointments(),this.getEvents()},getSearchParams:function(){var e=JSON.parse(JSON.stringify(this.params)),t=[];e.dates&&(e.dates.start&&t.push(n()(e.dates.start).format("YYYY-MM-DD")),e.dates.end&&t.push(n()(e.dates.end).format("YYYY-MM-DD")),e.dates=t);var o={source:"cabinet"};return 2===e.dates.length&&(o.dates=[e.dates[0],e.dates[1]]),o},getAppointments:function(){var e=this;this.fetchedAppointments=!1,this.$http.get(this.$root.getAjaxUrl+"/appointments",Object.assign(this.getAuthorizationHeaderObject(),{params:this.getSearchParams()})).then(function(t){var o=[],i=e;for(var n in t.data.data.appointments)t.data.data.appointments[n].appointments.forEach(function(e){e.bookings.forEach(function(t){i.$root.settings.general.showClientTimeZone&&(e.bookingStart=i.getConvertedUtcToLocalDateTime(e.bookingStart),e.bookingEnd=i.getConvertedUtcToLocalDateTime(e.bookingEnd));var n=JSON.parse(JSON.stringify(e));n.bookings=[t],n.loadingTimeSlots=!1,o.push(n)})});e.appointments=o,e.fetchedAppointments=!0}).catch(function(t){e.fetchedAppointments=!0,e.parseError(t)})},getEvents:function(){var e=this;this.fetchedEvents=!1,this.$http.get(this.$root.getAjaxUrl+"/events",Object.assign(this.getAuthorizationHeaderObject(),{params:this.getSearchParams()})).then(function(t){var o=[],i=e;t.data.data.events.forEach(function(e){i.$root.settings.general.showClientTimeZone&&e.periods.forEach(function(e){e.periodStart=i.getConvertedUtcToLocalDateTime(e.periodStart),e.periodEnd=i.getConvertedUtcToLocalDateTime(e.periodEnd)}),e.bookings.forEach(function(t){var i=JSON.parse(JSON.stringify(e));i.bookings=[t],o.push(i)})}),e.events=o,e.fetchedEvents=!0}).catch(function(t){e.fetchedEvents=!0,e.parseError(t)})},getOptions:function(){this.options.fetched=!1;var e=this;this.fetchEntities(function(t){e.displayChangePassword||(e.displayCabinetDashboard=!0),e.options.fetched=!0},{types:["employees","categories","locations"],isFrontEnd:!1})},cancelBooking:function(){var e=this;this.cancelBookingButtonSpinner=!0,this.$http.post(this.$root.getAjaxUrl+"/bookings/cancel/"+this.appointment.bookingId,{type:this.appointment.reservationType},Object.assign(this.getAuthorizationHeaderObject(),{params:{source:"cabinet"}})).then(function(t){e.cancelBookingButtonSpinner=!1,e.dialogCancelBookingVisible=!1;var o=[];switch(e.appointment.reservationType){case"appointment":o=e.appointments.filter(function(t){return t.id===e.appointment.id}),e.$message({type:"success",message:e.$root.labels.appointment_canceled});break;case"event":o=e.events.filter(function(t){return t.id===e.appointment.id}),e.$message({type:"success",message:e.$root.labels.event_canceled})}var i=e;o.forEach(function(e){e.bookings[0].id===i.appointment.bookingId&&(e.bookings[0].status="canceled")})}).catch(function(t){e.cancelBookingButtonSpinner=!1,e.dialogCancelBookingVisible=!1,e.parseError(t)})},rescheduleAppointment:function(){var e=this,t=this.appointments.find(function(t){return t.id===e.appointment.id}),o=null,i=this.getStringFromDate(this.appointment.selectedDate)+" "+this.appointment.selectedPeriod.time,a=this.convertDateTimeRangeDifferenceToMomentDuration(t.bookingStart,t.bookingEnd);this.rescheduleAppointmentButtonSpinner=!0;var s=null;if(this.$root.settings.general.showClientTimeZone){var r=n()(i,"YYYY-MM-DD HH:mm").utc().format("YYYY-MM-DD HH:mm");o=this.getClientUtcOffset(r),s=r}else s=i;this.$http.post(this.$root.getAjaxUrl+"/appointments/time/"+this.appointment.id,{bookingStart:s,utcOffset:o},Object.assign(this.getAuthorizationHeaderObject(),{params:{source:"cabinet"}})).then(function(o){e.dialogRescheduleAppointmentVisible=!1,t.bookingStart=i+":00",t.bookingEnd=n()(i,"YYYY-MM-DD HH:mm").add(a.asMinutes(),"minutes").format("YYYY-MM-DD HH:mm")+":00",e.$message({type:"success",message:e.$root.labels.appointment_rescheduled}),e.rescheduleAppointmentButtonSpinner=!1,e.dialogRescheduleAppointmentVisible=!1}).catch(function(t){e.rescheduleAppointmentButtonSpinner=!1,e.dialogRescheduleAppointmentVisible=!1,e.parseError(t)})},showFirstEventMonth:function(e){this.appointment.selectedDate=n()(e).toDate();var t=this;setTimeout(function(){t.appointment.selectedDate=null},100)},getConvertedTimeSlots:function(e){var t={};for(var o in e)for(var i in e[o]){var a=n.a.utc(o+" "+i,"YYYY-MM-DD HH:mm").local().format("YYYY-MM-DD HH:mm").split(" ");a[0]in t||(t[a[0]]={}),t[a[0]][a[1]]=e[o][i]}return t},getTimeSlots:function(e){var t=this,o=[];e.bookings.forEach(function(e){e.extras.forEach(function(e){o.push({id:e.extraId,quantity:e.quantity})})}),this.appointment.selectedDate=null,this.appointment.selectedPeriod={},this.appointment.dateTimeSlots={},this.loadingTimeSlots=!0,this.$http.get(this.$root.getAjaxUrl+"/slots",{params:{serviceId:e.serviceId,locationId:e.locationId,providerIds:[e.providerId],extras:JSON.stringify(o),excludeAppointmentId:e.id,group:0,page:"cabinet"}}).then(function(o){var i=t.$root.settings.general.showClientTimeZone?t.getConvertedTimeSlots(o.data.data.slots):o.data.data.slots;t.appointment.calendarTimeSlots=i;var a=[],s=null;Object.keys(i).forEach(function(e){null===s&&(s=e),a.push(n()(e).toDate())}),t.showFirstEventMonth(s),t.appointment.id=e.id,t.appointment.availableDates=a,t.appointment.disabledWeekdays={weekdays:[]},t.appointment.disabledWeekdays=0===t.appointment.availableDates.length?{weekdays:[1,2,3,4,5,6,7]}:null,e.loadingTimeSlots=!1,t.dialogRescheduleAppointmentVisible=!0,t.loadingTimeSlots=!1}).catch(function(o){t.loadingTimeSlots=!1,e.loadingTimeSlots=!1,t.dialogRescheduleAppointmentVisible=!0})},selectedDate:function(){var e=this,t=[],o=null,i=!1;this.appointment.selectedDate&&this.appointment.calendarTimeSlots&&(o=this.appointment.calendarTimeSlots[this.getStringFromDate(this.appointment.selectedDate)])?(Object.keys(o).forEach(function(n){e.appointment.selectedPeriod&&e.appointment.selectedPeriod.hasOwnProperty("time")&&e.appointment.selectedPeriod.time===n&&(i=!0),t.push({time:n,employees:o[n]})}),i||(this.appointment.selectedPeriod={})):(this.appointment.selectedDate=null,this.appointment.selectedPeriod={}),this.appointment.dateTimeSlots=t},selectedTime:function(){var e=this,t=this.getStringFromDate(this.appointment.selectedDate);t in this.appointment.calendarTimeSlots&&this.appointment.selectedPeriod.time in this.appointment.calendarTimeSlots[t]&&this.appointment.calendarTimeSlots[t][this.appointment.selectedPeriod.time].forEach(function(t){t[0]===e.appointment.providerId&&(e.appointment.locationId=t[1])})},showDialogRescheduleAppointment:function(e){e.loadingTimeSlots=!0,this.getTimeSlots(e)},showDialogCancelBooking:function(e){this.appointment.bookingId=e.bookings[0].id,this.appointment.id=e.id,this.appointment.reservationType=e.type,this.dialogCancelBookingVisible=!0},getStringFromDate:function(e){return e.getFullYear()+"-"+"0".concat(e.getMonth()+1).slice(-2)+"-"+"0".concat(e.getDate()).slice(-2)},discardProfileChanges:function(){this.profile.firstName=this.clonedProfile.firstName,this.profile.lastName=this.clonedProfile.lastName,this.profile.birthday=this.clonedProfile?n.a.utc(this.clonedProfile.birthday,"YYYY-MM-DD HH:mm:ss").toDate():null,this.profile.email=this.clonedProfile.email,this.profile.phone=this.clonedProfile.phone,this.phoneKey++},saveProfile:function(){var e=this;this.$refs.profile.validate(function(t){if(t){var o=e.profile.birthday?e.getDatabaseFormattedDate(n()(e.profile.birthday).format("YYYY-MM-DD")):null;e.submitButtonSpinner=!0,e.$http.post(e.$root.getAjaxUrl+"/users/customers/"+e.profile.id,Object.assign(JSON.parse(JSON.stringify(e.profile)),{birthday:o}),Object.assign(e.getAuthorizationHeaderObject(),{params:{source:"cabinet"}})).then(function(t){e.submitButtonSpinner=!1,e.clonedProfile=JSON.parse(JSON.stringify(e.profile)),"token"in t.data.data&&(s.a.set("ameliaToken",t.data.data.token,e.$root.settings.roles.customerCabinet.tokenValidTime),s.a.set("ameliaUserEmail",t.data.data.user.email,e.$root.settings.roles.customerCabinet.tokenValidTime),e.ameliaToken=t.data.data.token,e.ameliaUserEmail=t.data.data.user.email),e.$message({type:"success",message:e.$root.labels.profile_saved}),e.submitButtonSpinner=!1}).catch(function(t){e.submitButtonSpinner=!1,e.parseError(t)})}else e.submitButtonSpinner=!1})},deleteProfile:function(){var e=this;this.deleteProfileButtonSpinner=!0,this.$http.post(this.$root.getAjaxUrl+"/users/customers/"+this.profile.id,{email:"",firstName:this.$root.labels.customer,lastName:this.profile.id,phone:"",birthday:"",gender:"",externalId:"",password:""},Object.assign(this.getAuthorizationHeaderObject(),{params:{source:"cabinet"}})).then(function(t){e.$message({type:"success",message:e.$root.labels.profile_deleted}),e.deleteProfileButtonSpinner=!1,e.dialogDeleteProfileVisible=!1,e.profile={id:"",firstName:"",lastName:"",email:"",phone:"",birthday:"",type:""},s.a.remove("ameliaUserEmail"),e.logout()}).catch(function(t){e.deleteProfileButtonSpinner=!1,e.parseError(t)})},showChangePasswordForm:function(){this.displayCabinetDashboard=!1,this.displayChangePassword=!0},hideChangePasswordForm:function(){this.displayCabinetDashboard=!0,this.displayChangePassword=!1},changePasswordAction:function(){var e=this;this.$refs.password.validate(function(t){t?(e.submitButtonSpinner=!0,e.$http.post(e.$root.getAjaxUrl+"/users/customers/"+e.profile.id,{password:e.password.newValue},Object.assign(e.getAuthorizationHeaderObject(),{params:{source:"cabinet"}})).then(function(t){e.submitButtonSpinner=!1,e.displayCabinetDashboard=!0,e.displayChangePassword=!1,e.password.newValue="",e.password.retypedValue="",e.$message({type:"success",message:e.$root.labels.password_has_been_changed}),e.setPassword&&(e.getAppointments(),e.getEvents(),e.setPassword=!1),e.displayChangePassword=!1}).catch(function(t){e.displayChangePassword=!1,e.parseError(t)})):e.submitButtonSpinner=!1})},showForgotPasswordForm:function(){this.displayForgotPassword=!0,this.displayLogin=!1,this.headerErrorMessage="",this.headerSuccessMessage=""},hideForgotPasswordForm:function(){this.displayForgotPassword=!1,this.displayLogin=!0,this.headerErrorMessage="",this.headerSuccessMessage=""},forgotPasswordAction:function(){var e=this;this.$refs.login.validate(function(t){t&&(e.authentication=!1,e.submitButtonSpinner=!0,e.$http.post(e.$root.getAjaxUrl+"/users/customers/reauthorize",{email:e.login.email}).then(function(t){e.authentication=!1,e.submitButtonSpinner=!1,e.headerSuccessMessage=e.$root.labels.recovery_email_sent}).catch(function(t){e.authentication=!1,e.submitButtonSpinner=!1}))})},loginAction:function(){var e=this;this.$refs.login.validate(function(t){t&&e.authenticate(null,!1,!1)})},authenticate:function(e,t,o){var i=this;this.authentication=!0,this.submitButtonSpinner=!0;var a={};o&&(a.checkIfWpUser=!0),!e&&this.login.password&&this.login.email&&(a.password=this.login.password,a.email=this.login.email),t&&(a.token=e),this.$http.post(this.$root.getAjaxUrl+"/users/customers/authenticate",a,null!==e?{headers:{Authorization:"Bearer "+e}}:{}).then(function(e){if("authentication_required"in e.data.data)return i.$root.settings.roles.customerCabinet.loginEnabled?i.displayLogin=!0:i.displayForgotPassword=!0,void(i.submitButtonSpinner=!1);"is_wp_user"in e.data.data&&e.data.data.is_wp_user&&(i.isWpUser=!0),"token"in e.data.data&&(s.a.set("ameliaToken",e.data.data.token,i.$root.settings.roles.customerCabinet.tokenValidTime),s.a.set("ameliaUserEmail",e.data.data.user.email,i.$root.settings.roles.customerCabinet.tokenValidTime),i.ameliaToken=e.data.data.token,i.ameliaUserEmail=e.data.data.user.email),i.urlToken&&(window.history.replaceState(null,null,i.removeUrlToken("token",window.location.href)),i.urlToken=null),i.profile.id=e.data.data.user.id,i.profile.firstName=e.data.data.user.firstName,i.profile.lastName=e.data.data.user.lastName,i.profile.phone=e.data.data.user.phone,i.profile.birthday=e.data.data.user.birthday?n.a.utc(e.data.data.user.birthday.date,"YYYY-MM-DD HH:mm:ss").toDate():null,i.profile.email=e.data.data.user.email,i.profile.type=e.data.data.user.type,i.login.password="",i.clonedProfile=JSON.parse(JSON.stringify(i.profile)),i.headerErrorMessage="",i.phoneKey++,i.getOptions(),"set_password"in e.data.data&&e.data.data.set_password?(i.displayChangePassword=!0,i.displayCabinetDashboard=!1,i.setPassword=!0):(i.getAppointments(),i.getEvents()),i.displayLogin=!1,i.authentication=!1,i.authenticated=!0,i.submitButtonSpinner=!1}).catch(function(e){i.parseError(e)})},parseError:function(e){"data"in e.response.data||!("message"in e.response.data)?("invalid_credentials"in e.response.data.data&&(this.displayChangePassword=!1,this.displayCabinetDashboard=!1,this.authentication=!1,this.authenticated=!1,this.submitButtonSpinner=!1,this.$root.settings.roles.customerCabinet.loginEnabled?(this.headerErrorMessage=this.$root.labels.invalid_credentials,this.displayLogin=!0):this.displayForgotPassword=!0),"reauthorize"in e.response.data.data&&(s.a.remove("ameliaToken"),this.ameliaToken=null,this.urlToken&&this.checkUrlToken?(this.checkUrlToken=!1,this.authenticate(this.urlToken,!0,!1)):(this.displayChangePassword=!1,this.displayCabinetDashboard=!1,this.authentication=!1,this.authenticated=!1,this.submitButtonSpinner=!1,this.$root.settings.roles.customerCabinet.loginEnabled?this.displayLogin=!0:this.displayForgotPassword=!0)),"cancelBookingUnavailable"in e.response.data.data&&this.$message({type:"error",message:this.$root.labels.booking_cancel_exception}),"timeSlotUnavailable"in e.response.data.data&&!0===e.response.data.data.timeSlotUnavailable&&this.$message({type:"error",message:this.$root.labels.time_slot_unavailable}),"rescheduleBookingUnavailable"in e.response.data.data&&!0===e.response.data.data.rescheduleBookingUnavailable&&this.$message({type:"error",message:this.$root.labels.booking_reschedule_exception})):this.$message({type:"error",message:e.response.data.message})},logout:function(){this.$root.settings.roles.customerCabinet.loginEnabled?this.displayLogin=!0:this.displayForgotPassword=!0,this.displayCabinetDashboard=!1,this.authenticated=!1,this.authentication=!1,this.ameliaToken=null,s.a.remove("ameliaToken")},getAuthorizationHeaderObject:function(){return this.ameliaToken?{headers:{Authorization:"Bearer "+this.ameliaToken}}:{}},clearValidation:function(e){this.$refs[e].clearValidate()}},created:function(){this.profile.email=s.a.get("ameliaUserEmail");var e=this.getUrlParams(window.location.href),t=s.a.get("ameliaToken");"token"in e&&(this.urlToken=e.token),t?this.authenticate(t,!1,!1):this.urlToken?this.authenticate(this.urlToken,!0,!1):this.authenticate("",!1,!0)},mounted:function(){var e=o(676);setTimeout(function(){e.init({svgSelector:"img.svg-cabinet",initClass:"js-inlinesvg"})},200)},components:{PhoneInput:f.a}}},962:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"am-wrap"},[o("div",{attrs:{id:"am-cabinet"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:e.authenticated&&!e.options.fetched&&!e.setPassword||!e.authenticated&&!e.authentication&&!e.displayLogin&&!e.displayForgotPassword,expression:"(authenticated && !options.fetched && !setPassword) || !authenticated && !authentication && !displayLogin && !displayForgotPassword"}],staticClass:"am-spinner am-section"},[o("img",{staticClass:"svg-cabinet am-spin",attrs:{src:e.$root.getUrl+"public/img/oval-spinner.svg"}}),e._v(" "),o("img",{staticClass:"svg-cabinet am-hourglass",attrs:{src:e.$root.getUrl+"public/img/hourglass.svg"}})]),e._v(" "),o("div",{staticClass:"am-cabinet-auth-container"},[o("el-alert",{directives:[{name:"show",rawName:"v-show",value:""!==e.headerErrorMessage,expression:"headerErrorMessage !== ''"}],attrs:{title:e.headerErrorMessage,type:"error","show-icon":""}}),e._v(" "),o("el-alert",{directives:[{name:"show",rawName:"v-show",value:""!==e.headerSuccessMessage,expression:"headerSuccessMessage !== ''"}],attrs:{title:e.headerSuccessMessage,type:"success","show-icon":""}}),e._v(" "),e.displayLogin||e.displayForgotPassword||e.displayChangePassword?o("div",{staticClass:"am-cabinet-auth"},[o("transition",{attrs:{name:"fade"}},[e.displayLogin?o("div",{staticClass:"am-cabinet-login"},[o("div",{staticClass:"am-cabinet-auth-title"},[e._v("\n              "+e._s(e.$root.labels.sign_in)+"\n            ")]),e._v(" "),o("el-form",{ref:"login",staticClass:"am-cabinet-auth-back",attrs:{rules:e.loginRules,model:e.login}},[o("el-form-item",{attrs:{label:e.$root.labels.email_or_username,prop:"email"}},[o("el-input",{attrs:{autocomplete:"new-password"},on:{input:function(t){return e.clearValidation("login")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginAction(t)}},model:{value:e.login.email,callback:function(t){e.$set(e.login,"email",t)},expression:"login.email"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$root.labels.password,type:"password",prop:"password"}},[o("el-input",{staticClass:"am-password-field",attrs:{autocomplete:"new-password",type:"password","show-password":""},on:{input:function(t){return e.clearValidation("login")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginAction(t)}},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}})],1),e._v(" "),o("el-button",{attrs:{type:"primary",loading:e.submitButtonSpinner},on:{click:e.loginAction}},[e._v("\n                "+e._s(e.$root.labels.sign_in)+"\n              ")]),e._v(" "),o("p",[o("span",{on:{click:function(t){return e.showForgotPasswordForm()}}},[e._v(e._s(e.$root.labels.forgot_password))])])],1)],1):e._e()]),e._v(" "),o("transition",{attrs:{name:"fade"}},[e.displayForgotPassword?o("div",[o("div",{staticClass:"am-cabinet-auth-title"},[e._v("\n              "+e._s(e.$root.labels.send_recovery_email)+"\n            ")]),e._v(" "),o("div",{staticClass:"am-cabinet-subtitle"},[e._v("\n              "+e._s(e.$root.labels.send_recovery_email_description)+"\n            ")]),e._v(" "),o("el-form",{ref:"login",staticClass:"am-cabinet-auth-back",attrs:{rules:e.loginRules,model:e.login}},[o("el-form-item",{attrs:{label:e.$root.labels.email,prop:"email"}},[o("el-input",{attrs:{autocomplete:"new-password"},on:{input:function(t){return e.clearValidation("login")}},model:{value:e.login.email,callback:function(t){e.$set(e.login,"email",t)},expression:"login.email"}})],1),e._v(" "),o("el-button",{attrs:{type:"primary",loading:e.submitButtonSpinner},on:{click:function(t){return e.forgotPasswordAction()}}},[e._v("\n                "+e._s(e.$root.labels.send)+"\n              ")]),e._v(" "),e.$root.settings.roles.customerCabinet.loginEnabled?o("p",[o("span",{on:{click:function(t){return e.hideForgotPasswordForm()}}},[e._v(e._s(e.$root.labels.sign_in))])]):e._e()],1)],1):e._e()]),e._v(" "),e.$root.settings.roles.customerCabinet.loginEnabled?o("transition",{attrs:{name:"fade"}},[e.displayChangePassword?o("div",{staticClass:"am-cabinet-reset-pass"},[o("div",{staticClass:"am-cabinet-auth-title"},[e._v("\n              "+e._s(e.setPassword?e.$root.labels.set_password:e.$root.labels.change_password)+"\n            ")]),e._v(" "),o("el-form",{ref:"password",staticClass:"am-cabinet-auth-back",attrs:{rules:e.changePasswordRules,model:e.password}},[o("el-form-item",{staticClass:"am-password",attrs:{type:"password",label:e.$root.labels.new_password_colon,prop:"newValue"}},[o("el-input",{staticClass:"am-password-field",attrs:{autocomplete:"new-password",type:"password","show-password":""},on:{input:function(t){return e.clearValidation("password")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changePasswordAction()}},model:{value:e.password.newValue,callback:function(t){e.$set(e.password,"newValue",t)},expression:"password.newValue"}})],1),e._v(" "),o("el-form-item",{staticClass:"am-password",attrs:{type:"password",label:e.$root.labels.retype_new_password_colon,prop:"retypedValue"}},[o("el-input",{staticClass:"am-password-field",attrs:{autocomplete:"new-password",type:"password","show-password":""},on:{input:function(t){return e.clearValidation("password")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.changePasswordAction()}},model:{value:e.password.retypedValue,callback:function(t){e.$set(e.password,"retypedValue",t)},expression:"password.retypedValue"}})],1),e._v(" "),o("el-button",{attrs:{type:"primary",loading:e.submitButtonSpinner},on:{click:function(t){return e.changePasswordAction()}}},[e._v("\n                "+e._s(e.setPassword?e.$root.labels.set_password:e.$root.labels.change_password)+"\n              ")]),e._v(" "),!e.setPassword&&e.authenticated?o("p",[o("span",{on:{click:function(t){return e.hideChangePasswordForm()}}},[e._v(e._s(e.$root.labels.user_profile))])]):e._e()],1)],1):e._e()]):e._e()],1):e._e()],1),e._v(" "),o("transition",{attrs:{name:"fade"}},[e.displayCabinetDashboard?o("div",{staticClass:"am-cabinet-dashboard"},[o("div",{staticClass:"am-cabinet-dashboard-header"},[o("div",{staticClass:"am-cabinet-dashboard-user-data"},[o("div",{staticClass:"am-cabinet-user-initials"},[e._v("\n              "+e._s(e.getNameInitials(e.profile.firstName+" "+e.profile.lastName))+"\n            ")]),e._v(" "),o("div",{staticClass:"am-cabinet-user"},[o("div",{staticClass:"am-cabinet-username"},[e._v("\n                "+e._s(e.profile.firstName+" "+e.profile.lastName)+"\n              ")]),e._v(" "),o("div",{staticClass:"am-cabinet-user-email"},[e._v("\n                "+e._s(e.profile.email)+"\n              ")])])]),e._v(" "),e.isWpUser?e._e():o("div",{staticClass:"am-cabinet-logout"},[o("el-button",{attrs:{plain:"",type:"primary"},on:{click:e.logout}},[o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[o("g",{attrs:{fill:"#FFF"}},[o("rect",{attrs:{width:"24",height:"24",opacity:"0",transform:"rotate(-90 12 12)"}}),e._v(" "),o("path",{attrs:{fill:e.$root.settings.customization.textColorOnBackground,d:"M19,4 L17,4 C16.4477153,4 16,4.44771525 16,5 C16,5.55228475 16.4477153,6 17,6 L18,6 L18,18 L17,18 C16.4477153,18 16,18.4477153 16,19 C16,19.5522847 16.4477153,20 17,20 L19,20 C19.5522847,20 20,19.5522847 20,19 L20,5 C20,4.44771525 19.5522847,4 19,4 Z"}}),e._v(" "),o("path",{attrs:{fill:e.$root.settings.customization.textColorOnBackground,d:"M11.8,7.4 C11.4686291,6.95817222 10.8418278,6.86862918 10.4,7.20000002 C9.95817222,7.53137086 9.86862917,8.1581722 10.2,8.6 L12,11 L4,11 C3.44771525,11 3,11.4477153 3,12 C3,12.5522847 3.44771525,13 4,13 L12,13 L12.09,13 L10.37,15.44 C10.2150095,15.6570921 10.1531749,15.9271088 10.1982446,16.1900152 C10.2433143,16.4529216 10.3915524,16.6869259 10.61,16.84 C10.7799997,16.9586733 10.9826819,17.0215747 11.19,17.0200289 C11.5118574,17.0185117 11.8133242,16.8621956 12,16.6 L14.82,12.6 C15.0767957,12.2485802 15.0767957,11.7714198 14.82,11.42 L11.8,7.4 Z",transform:"matrix(-1 0 0 1 18.013 0)"}})])]),e._v(" "),o("span",{staticClass:"am-cabinet-logout-text"},[e._v(e._s(e.$root.labels.logout))])])],1)]),e._v(" "),o("div",{staticClass:"am-cabinet-menu"},[o("div",{staticClass:"am-cabinet-menu-item",class:{"am-active":"appointments"===e.activeTab},on:{click:function(t){e.activeTab="appointments"}}},[e._v("\n            "+e._s(e.$root.labels.appointments)+"\n          ")]),e._v(" "),o("div",{staticClass:"am-cabinet-menu-item",class:{"am-active":"events"===e.activeTab},on:{click:function(t){e.activeTab="events"}}},[e._v("\n            "+e._s(e.$root.labels.events)+"\n          ")]),e._v(" "),o("div",{staticClass:"am-cabinet-menu-item",class:{"am-active":"profile"===e.activeTab},on:{click:function(t){e.activeTab="profile"}}},[e._v("\n            "+e._s(e.$root.labels.user_profile)+"\n          ")])]),e._v(" "),o("div",{staticClass:"am-cabinet-content"},[o("transition-group",{attrs:{name:"fade",mode:"out-in",appear:""}},["appointments"===e.activeTab?o("div",{key:1,staticClass:"am-cabinet-upcoming"},[o("div",{staticClass:"am-filter-fields"},[o("el-form",{attrs:{model:e.params}},[o("el-row",{attrs:{gutter:16}},[o("el-col",{staticClass:"v-calendar-column",attrs:{sm:24,md:24,lg:24}},[o("el-form-item",[o("v-date-picker",{attrs:{"is-double-paned":!1,mode:"range","popover-visibility":"focus","popover-direction":"bottom","tint-color":e.$root.settings.customization.primaryColor,"show-day-popover":!1,"input-props":{class:"el-input__inner"},"is-expanded":!1,"is-required":!0,"input-class":"el-input__inner",formats:e.vCalendarFormats},on:{input:e.changeRange},model:{value:e.params.dates,callback:function(t){e.$set(e.params,"dates",t)},expression:"params.dates"}})],1)],1)],1)],1)],1),e._v(" "),e.options.fetched&&e.fetchedAppointments&&0===e.appointments.length?o("div",{staticClass:"am-empty-state am-section"},[o("img",{staticClass:"svg-reservation",attrs:{src:e.$root.getUrl+"public/img/emptystate.svg"}}),e._v(" "),o("div",[o("p",[e._v(e._s(e.$root.labels.no_results))])])]):e._e(),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.options.fetched||!e.fetchedAppointments,expression:"!options.fetched || !fetchedAppointments"}],staticClass:"am-spinner am-section"},[o("img",{staticClass:"svg-reservation am-spin",attrs:{src:e.$root.getUrl+"public/img/oval-spinner.svg"}}),e._v(" "),o("img",{staticClass:"svg-reservation am-hourglass",attrs:{src:e.$root.getUrl+"public/img/hourglass.svg"}})]),e._v(" "),e.options.fetched&&e.fetchedAppointments&&e.appointments.length>0?o("div",{staticClass:"am-cabinet-list-head"},[o("el-row",[o("el-col",{attrs:{lg:14}},[o("el-row",{staticClass:"am-cabinet-flex-row-middle-align",attrs:{gutter:10}},[o("el-col",{attrs:{lg:8}},[o("p",[e._v(e._s(e.$root.labels.date)+" / "+e._s(e.$root.labels.time)+":")])]),e._v(" "),o("el-col",{attrs:{lg:8}},[o("p",[e._v(e._s(e.$root.labels.service)+":")])]),e._v(" "),o("el-col",{attrs:{lg:8}},[o("p",[e._v(e._s(e.$root.labels.employee)+":")])])],1)],1),e._v(" "),o("el-col",{attrs:{lg:10}},[o("el-row",{staticClass:"am-cabinet-flex-row-middle-align",attrs:{gutter:10}},[o("el-col",{staticClass:"hide-on-mobile",attrs:{lg:0}}),e._v(" "),o("el-col",{attrs:{lg:5}},[o("p",[e._v(e._s(e.$root.labels.status)+":")])]),e._v(" "),o("el-col",{attrs:{lg:5}},[o("p",[e._v(e._s(e.$root.labels.price)+":")])]),e._v(" "),o("el-col",{attrs:{lg:5}},[o("p",[e._v(e._s(e.$root.labels.duration)+":")])]),e._v(" "),o("el-col",{attrs:{lg:9}},[o("p",{staticStyle:{visibility:"hidden"}},[e._v(e._s(e.$root.labels.cancel_appointment)+" / "+e._s(e.$root.labels.cancel_reschedule))])])],1)],1)],1)],1):e._e(),e._v(" "),e.options.fetched&&e.fetchedAppointments&&e.appointments.length>0?o("div",{staticClass:"am-cabinet-list"},e._l(e.appointments,function(t,i){return o("div",{staticClass:"am-cabinet"},[o("el-row",{staticClass:"am-cabinet-row"},[o("el-col",{attrs:{lg:14}},[o("el-row",{staticClass:"am-cabinet-flex-row-middle-align",attrs:{gutter:10}},[o("el-col",{attrs:{lg:8,sm:8}},[o("p",{staticClass:"am-col-title"},[e._v(e._s(e.$root.labels.date)+" / "+e._s(e.$root.labels.time)+":")]),e._v(" "),o("h4",[e._v(e._s(e.getFrontedFormattedDateTime(t.bookingStart)))])]),e._v(" "),o("el-col",{attrs:{lg:8,sm:8}},[o("p",{staticClass:"am-col-title"},[e._v(e._s(e.$root.labels.service)+":")]),e._v(" "),o("h4",[e._v(e._s(e.getServiceById(t.serviceId).name))])]),e._v(" "),o("el-col",{attrs:{lg:8,sm:8}},[o("p",{staticClass:"am-col-title"},[e._v(e._s(e.$root.labels.employee)+":")]),e._v(" "),o("div",{staticClass:"am-assigned"},[o("img",{attrs:{src:e.pictureLoad(e.getProviderById(t.providerId),!0)},on:{error:function(o){e.imageLoadError(e.getProviderById(t.providerId),!0)}}}),e._v(" "),o("h4",[e._v(e._s(null!==(e.user=e.getProviderById(t.providerId))?e.user.firstName+" "+e.user.lastName:""))])])])],1)],1),e._v(" "),o("el-col",{attrs:{lg:10}},[o("el-row",{staticClass:"am-cabinet-flex-row-middle-align",attrs:{gutter:10}},[o("el-col",{attrs:{lg:5,sm:4}},[o("p",{staticClass:"am-col-title",class:"am-booking-status-"+t.bookings[0].status},[e._v(e._s(e.$root.labels.status)+":")]),e._v(" "),o("h4",{class:"am-booking-status-"+t.bookings[0].status},[e._v("\n                            "+e._s(e.statuses.find(function(e){return e.value===t.bookings[0].status}).label)+"\n                          ")])]),e._v(" "),o("el-col",{attrs:{lg:5,sm:4}},[o("p",{staticClass:"am-col-title"},[e._v(e._s(e.$root.labels.price)+":")]),e._v(" "),o("h4",[e._v(e._s(e.getFormattedPrice(e.getBookingPrice(t.bookings[0],!0,t.bookings[0].price,t.bookings[0].aggregatedPrice))))])]),e._v(" "),o("el-col",{attrs:{lg:5,sm:4}},[o("p",{staticClass:"am-col-title"},[e._v(e._s(e.$root.labels.duration)+":")]),e._v(" "),o("h4",[e._v("\n                            "+e._s(e.momentDurationToNiceDurationWithUnit(e.convertDateTimeRangeDifferenceToMomentDuration(t.bookingStart,t.bookingEnd)))+"\n                          ")])]),e._v(" "),o("el-col",{attrs:{lg:0,sm:2}}),e._v(" "),o("el-col",{staticClass:"am-cabinet-buttons-align-right",attrs:{lg:9,sm:10}},[o("p",{staticClass:"am-col-title",staticStyle:{visibility:"hidden"}},[e._v(e._s(e.$root.labels.cancel_appointment)+" / "+e._s(e.$root.labels.cancel_reschedule))]),e._v(" "),o("div",{staticClass:"am-cabinet-button"},[o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.reschedule)},slot:"content"}),e._v(" "),e.$root.settings.roles.allowCustomerReschedule?o("el-button",{class:e.isBookingCancelable(t)||!t.reschedulable?"am-cabinet-button-disabled":"",attrs:{icon:"el-icon-time",type:"primary",size:"medium",disabled:e.isBookingCancelable(t)||!t.reschedulable,loading:t.loadingTimeSlots},on:{click:function(o){return e.showDialogRescheduleAppointment(t)}}}):e._e()],1),e._v(" "),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.cancel)},slot:"content"}),e._v(" "),o("el-button",{class:e.isBookingCancelable(t)?"am-cabinet-button-disabled":"",attrs:{icon:"el-icon-close",type:"danger",size:"medium",disabled:e.isBookingCancelable(t)},on:{click:function(o){return e.showDialogCancelBooking(t)}}})],1)],1)])],1)],1)],1)],1)}),0):e._e()]):e._e(),e._v(" "),"events"===e.activeTab?o("div",{key:2,staticClass:"am-cabinet-upcoming"},[o("div",{staticClass:"am-filter-fields"},[o("el-form",{attrs:{model:e.params}},[o("el-row",{attrs:{gutter:16}},[o("el-col",{staticClass:"v-calendar-column",attrs:{sm:24,md:24,lg:24}},[o("el-form-item",[o("v-date-picker",{attrs:{"is-double-paned":!1,mode:"range","popover-visibility":"focus","popover-direction":"bottom","tint-color":e.$root.settings.customization.primaryColor,"show-day-popover":!1,"input-props":{class:"el-input__inner"},"is-expanded":!1,"is-required":!0,"input-class":"el-input__inner",formats:e.vCalendarFormats},on:{input:e.changeRange},model:{value:e.params.dates,callback:function(t){e.$set(e.params,"dates",t)},expression:"params.dates"}})],1)],1)],1)],1)],1),e._v(" "),e.options.fetched&&e.fetchedEvents&&0===e.events.length?o("div",{staticClass:"am-empty-state am-section"},[o("img",{staticClass:"svg-reservation",attrs:{src:e.$root.getUrl+"public/img/emptystate.svg"}}),e._v(" "),o("div",[o("p",[e._v(e._s(e.$root.labels.no_results))])])]):e._e(),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!e.options.fetched||!e.fetchedEvents,expression:"!options.fetched || !fetchedEvents"}],staticClass:"am-spinner am-section"},[o("img",{staticClass:"svg-reservation am-spin",attrs:{src:e.$root.getUrl+"public/img/oval-spinner.svg"}}),e._v(" "),o("img",{staticClass:"svg-reservation am-hourglass",attrs:{src:e.$root.getUrl+"public/img/hourglass.svg"}})]),e._v(" "),e.options.fetched&&e.fetchedEvents&&e.events.length>0?o("div",{staticClass:"am-cabinet-list-head"},[o("el-row",[o("el-col",{attrs:{lg:16}},[o("el-row",{staticClass:"am-cabinet-flex-row-middle-align",attrs:{gutter:10}},[o("el-col",{attrs:{lg:8}},[o("p",[e._v(e._s(e.$root.labels.date)+" / "+e._s(e.$root.labels.time)+":")])]),e._v(" "),o("el-col",{attrs:{lg:8}},[o("p",[e._v(e._s(e.$root.labels.event)+":")])]),e._v(" "),o("el-col",{attrs:{lg:8}},[o("p",[e._v(e._s(e.$root.labels.location)+":")])])],1)],1),e._v(" "),o("el-col",{attrs:{lg:8}},[o("el-row",{staticClass:"am-cabinet-flex-row-middle-align",attrs:{gutter:10}},[o("el-col",{attrs:{lg:6}},[o("p",[e._v(e._s(e.$root.labels.status)+":")])]),e._v(" "),o("el-col",{attrs:{lg:6}},[o("p",[e._v(e._s(e.$root.labels.price)+":")])]),e._v(" "),o("el-col",{attrs:{lg:12}},[o("p",{staticClass:"am-col-title",staticStyle:{visibility:"hidden"}},[e._v(e._s(e.$root.labels.cancel_event))])])],1)],1)],1)],1):e._e(),e._v(" "),e.options.fetched&&e.fetchedEvents&&e.events.length>0?o("div",{staticClass:"am-cabinet-list"},e._l(e.events,function(t,i){return o("div",{staticClass:"am-cabinet"},[o("el-row",{staticClass:"am-cabinet-row"},[o("el-col",{attrs:{lg:16}},[o("el-row",{staticClass:"am-cabinet-flex-row-middle-align",attrs:{gutter:10}},[o("el-col",{attrs:{lg:8,sm:8}},[o("p",{staticClass:"am-col-title"},[e._v(e._s(e.$root.labels.date)+" / "+e._s(e.$root.labels.time)+":")]),e._v(" "),o("h4",[e._v(e._s(e.getFrontedFormattedDateTime(t.periods[0].periodStart)))])]),e._v(" "),o("el-col",{attrs:{lg:8,sm:8}},[o("p",{staticClass:"am-col-title"},[e._v(e._s(e.$root.labels.event)+":")]),e._v(" "),o("h4",[e._v(e._s(t.name))])]),e._v(" "),o("el-col",{attrs:{lg:8,sm:8}},[o("p",{staticClass:"am-col-title"},[e._v(e._s(e.$root.labels.location)+":")]),e._v(" "),o("h4",[e._v(e._s(e.getEventLocation(t)))])])],1)],1),e._v(" "),o("el-col",{attrs:{lg:8}},[o("el-row",{staticClass:"am-cabinet-flex-row-middle-align",attrs:{gutter:10}},[o("el-col",{attrs:{lg:6,sm:8}},[o("p",{staticClass:"am-col-title",class:"am-booking-status-"+t.bookings[0].status},[e._v(e._s(e.$root.labels.status)+":")]),e._v(" "),o("h4",{class:"am-booking-status-"+t.bookings[0].status},[e._v("\n                            "+e._s(e.statuses.find(function(e){return e.value===t.bookings[0].status}).label)+"\n                          ")])]),e._v(" "),o("el-col",{attrs:{lg:6,sm:8}},[o("p",{staticClass:"am-col-title"},[e._v(e._s(e.$root.labels.price)+":")]),e._v(" "),o("h4",[e._v(e._s(e.getFormattedPrice(e.getBookingPrice(t.bookings[0],!0,t.bookings[0].price,t.bookings[0].aggregatedPrice))))])]),e._v(" "),o("el-col",{staticClass:"am-cabinet-buttons-align-right",attrs:{lg:12,sm:8}},[o("p",{staticClass:"am-col-title",staticStyle:{visibility:"hidden"}},[e._v(e._s(e.$root.labels.cancel_event))]),e._v(" "),o("div",{staticClass:"am-cabinet-button"},[o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$root.labels.cancel)},slot:"content"}),e._v(" "),o("el-button",{class:e.isBookingCancelable(t)?"am-cabinet-button-disabled":"",attrs:{icon:"el-icon-close",size:"small",type:"danger",disabled:e.isBookingCancelable(t)},on:{click:function(o){return e.showDialogCancelBooking(t)}}})],1)],1)])],1)],1)],1)],1)}),0):e._e()]):e._e(),e._v(" "),"profile"===e.activeTab?o("div",{key:3,staticClass:"am-cabinet-profile"},[o("el-form",{ref:"profile",attrs:{"label-position":"top",rules:e.profileRules,model:e.profile}},[o("el-row",{attrs:{gutter:16}},[o("el-col",{attrs:{md:12}},[o("el-row",{attrs:{gutter:16}},[o("el-col",{attrs:{md:12}},[o("el-form-item",{attrs:{label:e.$root.labels.first_name_colon,prop:"firstName"}},[o("el-input",{model:{value:e.profile.firstName,callback:function(t){e.$set(e.profile,"firstName",t)},expression:"profile.firstName"}})],1)],1),e._v(" "),o("el-col",{attrs:{md:12}},[o("el-form-item",{attrs:{label:e.$root.labels.last_name_colon,prop:"lastName"}},[o("el-input",{model:{value:e.profile.lastName,callback:function(t){e.$set(e.profile,"lastName",t)},expression:"profile.lastName"}})],1)],1),e._v(" "),o("el-col",{attrs:{md:24}},[o("el-form-item",{attrs:{label:e.$root.labels.email_colon,prop:"email"}},[o("el-input",{attrs:{type:"email"},model:{value:e.profile.email,callback:function(t){e.$set(e.profile,"email",t)},expression:"profile.email"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$root.labels.phone_colon,prop:"phone"}},[o("phone-input",{key:e.phoneKey,attrs:{savedPhone:e.profile.phone},on:{phoneFormatted:e.phoneFormatted}})],1)],1),e._v(" "),o("el-col",{staticClass:"v-calendar-column",attrs:{md:24}},[o("el-form-item",{attrs:{label:e.$root.labels.date_of_birth}},[o("v-date-picker",{attrs:{"is-double-paned":!1,mode:"single","popover-visibility":"focus","popover-direction":"top","tint-color":e.$root.settings.customization.primaryColor,"show-day-popover":!1,"input-props":{class:"el-input__inner"},"is-expanded":!1,"is-required":!0,"input-class":"el-input__inner",formats:e.vCalendarFormats},model:{value:e.profile.birthday,callback:function(t){e.$set(e.profile,"birthday",t)},expression:"profile.birthday"}})],1)],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"am-cabinet-button"},[o("el-button",{attrs:{type:"primary",loading:e.submitButtonSpinner},on:{click:e.saveProfile}},[e._v(e._s(e.$root.labels.save))]),e._v(" "),o("el-button",{on:{click:e.discardProfileChanges}},[e._v(e._s(e.$root.labels.discard))]),e._v(" "),"customer"===e.profile.type&&e.$root.settings.roles.allowCustomerDeleteProfile?o("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogDeleteProfileVisible=!0}}},[e._v(e._s(e.$root.labels.delete_profile))]):e._e()],1)],1)],1):e._e()])],1)]):e._e()]),e._v(" "),this.$root.settings.roles.customerCabinet.loginEnabled?o("transition",{attrs:{name:"fade"}},["profile"===e.activeTab&&e.displayCabinetDashboard?o("div",{staticClass:"am-cabinet-dashboard-change-password"},[o("div",{staticClass:"am-flex-row-middle-align"},[o("div",{staticClass:"am-round-icon"},[o("img",{attrs:{src:e.$root.getUrl+"public/img/locker.svg"}})]),e._v(" "),o("div",{staticClass:"am-change-password-text am-semi-strong"},[e._v(e._s(e.$root.labels.password))])]),e._v(" "),o("div",[o("el-button",{on:{click:e.showChangePasswordForm}},[e._v(e._s(e.$root.labels.change_password))])],1)]):e._e()]):e._e(),e._v(" "),o("el-dialog",{attrs:{modalAppendToBody:!1,title:e.$root.labels.reschedule,visible:e.dialogRescheduleAppointmentVisible},on:{"update:visible":function(t){e.dialogRescheduleAppointmentVisible=t}}},[o("div",{staticClass:"am-text"},[e._v("\n        "+e._s(e.$root.labels.appointment_change_time)+"\n      ")]),e._v(" "),o("el-form",{attrs:{"label-position":"top"}},[o("el-row",{attrs:{gutter:16}},[o("el-col",{staticClass:"v-calendar-column",attrs:{md:12}},[o("el-form-item",{attrs:{label:e.$root.labels.date}},[o("v-date-picker",{attrs:{mode:"single","popover-visibility":"focus","popover-direction":"bottom","tint-color":e.$root.settings.customization.primaryColor,"show-day-popover":!1,"input-props":{class:"el-input__inner"},"available-dates":e.appointment.availableDates,"is-expanded":!1,"is-required":!0,"disabled-dates":e.appointment.disabledWeekdays,disabled:e.loadingTimeSlots,formats:e.vCalendarFormats},on:{input:e.selectedDate},model:{value:e.appointment.selectedDate,callback:function(t){e.$set(e.appointment,"selectedDate",t)},expression:"appointment.selectedDate"}})],1)],1),e._v(" "),o("el-col",{attrs:{md:12}},[o("el-form-item",{attrs:{label:e.$root.labels.time}},[o("el-select",{attrs:{"value-key":"time",filterable:"",placeholder:e.$root.labels.select_time,disabled:e.loadingTimeSlots},on:{change:function(t){return e.selectedTime()}},model:{value:e.appointment.selectedPeriod,callback:function(t){e.$set(e.appointment,"selectedPeriod",t)},expression:"appointment.selectedPeriod"}},e._l(e.appointment.dateTimeSlots,function(t){return o("el-option",{key:t.time,attrs:{label:e.getFrontedFormattedTime(t.time+":00"),value:t}})}),1)],1)],1)],1)],1),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"am-cabinet-action-button",on:{click:function(t){e.dialogRescheduleAppointmentVisible=!1}}},[e._v(e._s(e.$root.labels.cancel))]),e._v(" "),o("el-button",{staticClass:"am-cabinet-action-button",attrs:{type:"primary",loading:e.rescheduleAppointmentButtonSpinner},on:{click:e.rescheduleAppointment}},[e._v(e._s(e.$root.labels.confirm))])],1)],1),e._v(" "),o("el-dialog",{attrs:{modalAppendToBody:!1,title:"appointment"===e.appointment.reservationType?e.$root.labels.cancel_appointment:e.$root.labels.cancel_event,visible:e.dialogCancelBookingVisible},on:{"update:visible":function(t){e.dialogCancelBookingVisible=t}}},[o("div",{staticClass:"am-text"},[e._v("\n        "+e._s("appointment"===e.appointment.reservationType?e.$root.labels.confirm_cancel_appointment:e.$root.labels.confirm_cancel_event)+"\n      ")]),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"am-cabinet-action-button",on:{click:function(t){e.dialogCancelBookingVisible=!1}}},[e._v(e._s(e.$root.labels.cancel))]),e._v(" "),o("el-button",{staticClass:"am-cabinet-action-button",attrs:{type:"primary",loading:e.cancelBookingButtonSpinner},on:{click:e.cancelBooking}},[e._v(e._s(e.$root.labels.confirm))])],1)]),e._v(" "),o("el-dialog",{attrs:{modalAppendToBody:!1,title:e.$root.labels.delete_profile,visible:e.dialogDeleteProfileVisible},on:{"update:visible":function(t){e.dialogDeleteProfileVisible=t}}},[o("div",{staticClass:"am-text"},[e._v("\n        "+e._s(e.$root.labels.delete_profile_description)+"\n      ")]),e._v(" "),o("span",{attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"am-cabinet-action-button",on:{click:function(t){e.dialogDeleteProfileVisible=!1}}},[e._v(e._s(e.$root.labels.cancel))]),e._v(" "),o("el-button",{staticClass:"am-cabinet-action-button",attrs:{type:"primary",loading:e.deleteProfileButtonSpinner},on:{click:e.deleteProfile}},[e._v(e._s(e.$root.labels.confirm))])],1)])],1)])},staticRenderFns:[]}}});